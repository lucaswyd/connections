!function(){"use strict";var e,t;e=void 0,t=function(e){class t extends Error{constructor(e){super(e),this.name="DecodingError"}}class n extends Error{constructor(e){super(e),this.name="EncodingError"}}class i extends Error{constructor(e){super(e),this.name="GVLError"}}class o extends Error{constructor(e,t,n=""){super(`invalid value ${t} passed for ${e} ${n}`),this.name="TCModelError"}}class r{static DICT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";static REVERSE_DICT=new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]);static BASIS=6;static LCM=24;static encode(e){if(!/^[0-1]+$/.test(e))throw new n("Invalid bitField");const t=e.length%this.LCM;e+=t?"0".repeat(this.LCM-t):"";let i="";for(let t=0;t<e.length;t+=this.BASIS)i+=this.DICT[parseInt(e.substr(t,this.BASIS),2)];return i}static decode(e){if(!/^[A-Za-z0-9\-_]+$/.test(e))throw new t("Invalidly encoded Base64URL string");let n="";for(let t=0;t<e.length;t++){const i=this.REVERSE_DICT.get(e[t]).toString(2);n+="0".repeat(this.BASIS-i.length)+i}return n}}class s{static langSet=new Set(["AR","BG","BS","CA","CS","DA","DE","EL","EN","ES","ET","EU","FI","FR","GL","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT-BR","PT-PT","RO","RU","SK","SL","SR-LATN","SR-CYRL","SV","TR","ZH"]);has(e){return s.langSet.has(e)}parseLanguage(e){const t=(e=e.toUpperCase()).split("-")[0];if(e.length>=2&&2==t.length){if(s.langSet.has(e))return e;if(s.langSet.has(t))return t;const n=t+"-"+t;if(s.langSet.has(n))return n;for(const n of s.langSet)if(-1!==n.indexOf(e)||-1!==n.indexOf(t))return n}throw new Error(`unsupported language ${e}`)}forEach(e){s.langSet.forEach(e)}get size(){return s.langSet.size}}class a{static cmpId="cmpId";static cmpVersion="cmpVersion";static consentLanguage="consentLanguage";static consentScreen="consentScreen";static created="created";static supportOOB="supportOOB";static isServiceSpecific="isServiceSpecific";static lastUpdated="lastUpdated";static numCustomPurposes="numCustomPurposes";static policyVersion="policyVersion";static publisherCountryCode="publisherCountryCode";static publisherCustomConsents="publisherCustomConsents";static publisherCustomLegitimateInterests="publisherCustomLegitimateInterests";static publisherLegitimateInterests="publisherLegitimateInterests";static publisherConsents="publisherConsents";static publisherRestrictions="publisherRestrictions";static purposeConsents="purposeConsents";static purposeLegitimateInterests="purposeLegitimateInterests";static purposeOneTreatment="purposeOneTreatment";static specialFeatureOptins="specialFeatureOptins";static useNonStandardTexts="useNonStandardTexts";static vendorConsents="vendorConsents";static vendorLegitimateInterests="vendorLegitimateInterests";static vendorListVersion="vendorListVersion";static vendorsAllowed="vendorsAllowed";static vendorsDisclosed="vendorsDisclosed";static version="version"}class d{clone(){const e=new this.constructor;return Object.keys(this).forEach((t=>{const n=this.deepClone(this[t]);void 0!==n&&(e[t]=n)})),e}deepClone(e){const t=typeof e;if("number"===t||"string"===t||"boolean"===t)return e;if(null!==e&&"object"===t){if("function"==typeof e.clone)return e.clone();if(e instanceof Date)return new Date(e.getTime());if(void 0!==e[Symbol.iterator]){const t=[];for(const n of e)t.push(this.deepClone(n));return e instanceof Array?t:new e.constructor(t)}{const t={};for(const n in e)e.hasOwnProperty(n)&&(t[n]=this.deepClone(e[n]));return t}}}}var l,c,p,u,f;(c=l||(l={}))[c.NOT_ALLOWED=0]="NOT_ALLOWED",c[c.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",c[c.REQUIRE_LI=2]="REQUIRE_LI";class g extends d{static hashSeparator="-";purposeId_;restrictionType;constructor(e,t){super(),void 0!==e&&(this.purposeId=e),void 0!==t&&(this.restrictionType=t)}static unHash(e){const t=e.split(this.hashSeparator),n=new g;if(2!==t.length)throw new o("hash",e);return n.purposeId=parseInt(t[0],10),n.restrictionType=parseInt(t[1],10),n}get hash(){if(!this.isValid())throw new Error("cannot hash invalid PurposeRestriction");return`${this.purposeId}${g.hashSeparator}${this.restrictionType}`}get purposeId(){return this.purposeId_}set purposeId(e){this.purposeId_=e}isValid(){return Number.isInteger(this.purposeId)&&this.purposeId>0&&(this.restrictionType===l.NOT_ALLOWED||this.restrictionType===l.REQUIRE_CONSENT||this.restrictionType===l.REQUIRE_LI)}isSameAs(e){return this.purposeId===e.purposeId&&this.restrictionType===e.restrictionType}}class v extends d{bitLength=0;map=new Map;gvl_;has(e){return this.map.has(e)}isOkToHave(e,t,n){let i=!0;if(this.gvl?.vendors){const o=this.gvl.vendors[n];if(o)if(e===l.NOT_ALLOWED)i=o.legIntPurposes.includes(t)||o.purposes.includes(t);else if(o.flexiblePurposes.length)switch(e){case l.REQUIRE_CONSENT:i=o.flexiblePurposes.includes(t)&&o.legIntPurposes.includes(t);break;case l.REQUIRE_LI:i=o.flexiblePurposes.includes(t)&&o.purposes.includes(t)}else i=!1;else i=!1}return i}add(e,t){if(this.isOkToHave(t.restrictionType,t.purposeId,e)){const n=t.hash;this.has(n)||(this.map.set(n,new Set),this.bitLength=0),this.map.get(n).add(e)}}restrictPurposeToLegalBasis(e){const t=Array.from(this.gvl.vendorIds),n=e.hash,i=t[t.length-1],o=[...Array(i).keys()].map((e=>e+1));if(this.has(n))for(let e=1;e<=i;e++)this.map.get(n).add(e);else this.map.set(n,new Set(o)),this.bitLength=0}getVendors(e){let t=[];if(e){const n=e.hash;this.has(n)&&(t=Array.from(this.map.get(n)))}else{const e=new Set;this.map.forEach((t=>{t.forEach((t=>{e.add(t)}))})),t=Array.from(e)}return t.sort(((e,t)=>e-t))}getRestrictionType(e,t){let n;return this.getRestrictions(e).forEach((e=>{e.purposeId===t&&(void 0===n||n>e.restrictionType)&&(n=e.restrictionType)})),n}vendorHasRestriction(e,t){let n=!1;const i=this.getRestrictions(e);for(let e=0;e<i.length&&!n;e++)n=t.isSameAs(i[e]);return n}getMaxVendorId(){let e=0;return this.map.forEach((t=>{e=Math.max(Array.from(t)[t.size-1],e)})),e}getRestrictions(e){const t=[];return this.map.forEach(((n,i)=>{e?n.has(e)&&t.push(g.unHash(i)):t.push(g.unHash(i))})),t}getPurposes(){const e=new Set;return this.map.forEach(((t,n)=>{e.add(g.unHash(n).purposeId)})),Array.from(e)}remove(e,t){const n=t.hash,i=this.map.get(n);i&&(i.delete(e),0==i.size&&(this.map.delete(n),this.bitLength=0))}set gvl(e){this.gvl_||(this.gvl_=e,this.map.forEach(((e,t)=>{const n=g.unHash(t);Array.from(e).forEach((t=>{this.isOkToHave(n.restrictionType,n.purposeId,t)||e.delete(t)}))})))}get gvl(){return this.gvl_}isEmpty(){return 0===this.map.size}get numRestrictions(){return this.map.size}}!function(e){e.COOKIE="cookie",e.WEB="web",e.APP="app"}(p||(p={})),function(e){e.CORE="core",e.VENDORS_DISCLOSED="vendorsDisclosed",e.VENDORS_ALLOWED="vendorsAllowed",e.PUBLISHER_TC="publisherTC"}(u||(u={}));class h{static ID_TO_KEY=[u.CORE,u.VENDORS_DISCLOSED,u.VENDORS_ALLOWED,u.PUBLISHER_TC];static KEY_TO_ID={[u.CORE]:0,[u.VENDORS_DISCLOSED]:1,[u.VENDORS_ALLOWED]:2,[u.PUBLISHER_TC]:3}}class b extends d{bitLength=0;maxId_=0;set_=new Set;*[Symbol.iterator](){for(let e=1;e<=this.maxId;e++)yield[e,this.has(e)]}values(){return this.set_.values()}get maxId(){return this.maxId_}has(e){return this.set_.has(e)}unset(e){Array.isArray(e)?e.forEach((e=>this.unset(e))):"object"==typeof e?this.unset(Object.keys(e).map((e=>Number(e)))):(this.set_.delete(Number(e)),this.bitLength=0,e===this.maxId&&(this.maxId_=0,this.set_.forEach((e=>{this.maxId_=Math.max(this.maxId,e)}))))}isIntMap(e){let t="object"==typeof e;return t=t&&Object.keys(e).every((t=>{let n=Number.isInteger(parseInt(t,10));return n=n&&this.isValidNumber(e[t].id),n=n&&void 0!==e[t].name,n})),t}isValidNumber(e){return parseInt(e,10)>0}isSet(e){let t=!1;return e instanceof Set&&(t=Array.from(e).every(this.isValidNumber)),t}set(e){if(Array.isArray(e))e.forEach((e=>this.set(e)));else if(this.isSet(e))this.set(Array.from(e));else if(this.isIntMap(e))this.set(Object.keys(e).map((e=>Number(e))));else{if(!this.isValidNumber(e))throw new o("set()",e,"must be positive integer array, positive integer, Set<number>, or IntMap");this.set_.add(e),this.maxId_=Math.max(this.maxId,e),this.bitLength=0}}empty(){this.set_=new Set}forEach(e){for(let t=1;t<=this.maxId;t++)e(this.has(t),t)}get size(){return this.set_.size}setAll(e){this.set(e)}}class m{static[a.cmpId]=12;static[a.cmpVersion]=12;static[a.consentLanguage]=12;static[a.consentScreen]=6;static[a.created]=36;static[a.isServiceSpecific]=1;static[a.lastUpdated]=36;static[a.policyVersion]=6;static[a.publisherCountryCode]=12;static[a.publisherLegitimateInterests]=24;static[a.publisherConsents]=24;static[a.purposeConsents]=24;static[a.purposeLegitimateInterests]=24;static[a.purposeOneTreatment]=1;static[a.specialFeatureOptins]=12;static[a.useNonStandardTexts]=1;static[a.vendorListVersion]=12;static[a.version]=6;static anyBoolean=1;static encodingType=1;static maxId=16;static numCustomPurposes=6;static numEntries=12;static numRestrictions=12;static purposeId=6;static restrictionType=2;static segmentType=3;static singleOrRange=1;static vendorId=16}class y{static encode(e){return String(Number(e))}static decode(e){return"1"===e}}class _{static encode(e,t){let i;if("string"==typeof e&&(e=parseInt(e,10)),i=e.toString(2),i.length>t||e<0)throw new n(`${e} too large to encode into ${t}`);return i.length<t&&(i="0".repeat(t-i.length)+i),i}static decode(e,n){if(n!==e.length)throw new t("invalid bit length");return parseInt(e,2)}}class w{static encode(e,t){return _.encode(Math.round(e.getTime()/100),t)}static decode(e,n){if(n!==e.length)throw new t("invalid bit length");const i=new Date;return i.setTime(100*_.decode(e,n)),i}}class x{static encode(e,t){let n="";for(let i=1;i<=t;i++)n+=y.encode(e.has(i));return n}static decode(e,n){if(e.length!==n)throw new t("bitfield encoding length mismatch");const i=new b;for(let t=1;t<=n;t++)y.decode(e[t-1])&&i.set(t);return i.bitLength=e.length,i}}class C{static encode(e,t){const i=(e=e.toUpperCase()).charCodeAt(0)-65,o=e.charCodeAt(1)-65;if(i<0||i>25||o<0||o>25)throw new n(`invalid language code: ${e}`);if(t%2==1)throw new n(`numBits must be even, ${t} is not valid`);return t/=2,_.encode(i,t)+_.encode(o,t)}static decode(e,n){let i;if(n!==e.length||e.length%2)throw new t("invalid bit length for language");{const t=e.length/2,n=_.decode(e.slice(0,t),t)+65,o=_.decode(e.slice(t),t)+65;i=String.fromCharCode(n)+String.fromCharCode(o)}return i}}class E{static encode(e){let t=_.encode(e.numRestrictions,m.numRestrictions);if(!e.isEmpty()){const n=(t,n)=>{for(let i=t+1;i<=n;i++)if(e.gvl.vendorIds.has(i))return i;return t};e.getRestrictions().forEach((i=>{t+=_.encode(i.purposeId,m.purposeId),t+=_.encode(i.restrictionType,m.restrictionType);const o=e.getVendors(i),r=o.length;let s=0,a=0,d="";for(let e=0;e<r;e++){const t=o[e];if(0===a&&(s++,a=t),e===r-1||o[e+1]>n(t,o[r-1])){const e=t!==a;d+=y.encode(e),d+=_.encode(a,m.vendorId),e&&(d+=_.encode(t,m.vendorId)),a=0}}t+=_.encode(s,m.numEntries),t+=d}))}return t}static decode(e){let n=0;const i=new v,o=_.decode(e.substr(n,m.numRestrictions),m.numRestrictions);n+=m.numRestrictions;for(let r=0;r<o;r++){const o=_.decode(e.substr(n,m.purposeId),m.purposeId);n+=m.purposeId;const r=_.decode(e.substr(n,m.restrictionType),m.restrictionType);n+=m.restrictionType;const s=new g(o,r),a=_.decode(e.substr(n,m.numEntries),m.numEntries);n+=m.numEntries;for(let o=0;o<a;o++){const o=y.decode(e.substr(n,m.anyBoolean));n+=m.anyBoolean;const r=_.decode(e.substr(n,m.vendorId),m.vendorId);if(n+=m.vendorId,o){const o=_.decode(e.substr(n,m.vendorId),m.vendorId);if(n+=m.vendorId,o<r)throw new t(`Invalid RangeEntry: endVendorId ${o} is less than ${r}`);for(let e=r;e<=o;e++)i.add(e,s)}else i.add(r,s)}}return i.bitLength=n,i}}!function(e){e[e.FIELD=0]="FIELD",e[e.RANGE=1]="RANGE"}(f||(f={}));class O{static encode(e){const t=[];let n,i=[],o=_.encode(e.maxId,m.maxId),r="";const s=m.maxId+m.encodingType,a=s+e.maxId,d=2*m.vendorId+m.singleOrRange+m.numEntries;let l=s+m.numEntries;return e.forEach(((o,s)=>{r+=y.encode(o),n=e.maxId>d&&l<a,n&&o&&(e.has(s+1)?0===i.length&&(i.push(s),l+=m.singleOrRange,l+=m.vendorId):(i.push(s),l+=m.vendorId,t.push(i),i=[]))})),n?(o+=String(f.RANGE),o+=this.buildRangeEncoding(t)):(o+=String(f.FIELD),o+=r),o}static decode(e,n){let i,o=0;const r=_.decode(e.substr(o,m.maxId),m.maxId);o+=m.maxId;const s=_.decode(e.charAt(o),m.encodingType);if(o+=m.encodingType,s===f.RANGE){if(i=new b,1===n){if("1"===e.substr(o,1))throw new t("Unable to decode default consent=1");o++}const r=_.decode(e.substr(o,m.numEntries),m.numEntries);o+=m.numEntries;for(let t=0;t<r;t++){const t=y.decode(e.charAt(o));o+=m.singleOrRange;const n=_.decode(e.substr(o,m.vendorId),m.vendorId);if(o+=m.vendorId,t){const t=_.decode(e.substr(o,m.vendorId),m.vendorId);o+=m.vendorId;for(let e=n;e<=t;e++)i.set(e)}else i.set(n)}}else{const t=e.substr(o,r);o+=r,i=x.decode(t,r)}return i.bitLength=o,i}static buildRangeEncoding(e){const t=e.length;let n=_.encode(t,m.numEntries);return e.forEach((e=>{const t=1===e.length;n+=y.encode(!t),n+=_.encode(e[0],m.vendorId),t||(n+=_.encode(e[1],m.vendorId))})),n}}function I(){return{[a.version]:_,[a.created]:w,[a.lastUpdated]:w,[a.cmpId]:_,[a.cmpVersion]:_,[a.consentScreen]:_,[a.consentLanguage]:C,[a.vendorListVersion]:_,[a.policyVersion]:_,[a.isServiceSpecific]:y,[a.useNonStandardTexts]:y,[a.specialFeatureOptins]:x,[a.purposeConsents]:x,[a.purposeLegitimateInterests]:x,[a.purposeOneTreatment]:y,[a.publisherCountryCode]:C,[a.vendorConsents]:O,[a.vendorLegitimateInterests]:O,[a.publisherRestrictions]:E,segmentType:_,[a.vendorsDisclosed]:O,[a.vendorsAllowed]:O,[a.publisherConsents]:x,[a.publisherLegitimateInterests]:x,[a.numCustomPurposes]:_,[a.publisherCustomConsents]:x,[a.publisherCustomLegitimateInterests]:x}}class S{1={[u.CORE]:[a.version,a.created,a.lastUpdated,a.cmpId,a.cmpVersion,a.consentScreen,a.consentLanguage,a.vendorListVersion,a.purposeConsents,a.vendorConsents]};2={[u.CORE]:[a.version,a.created,a.lastUpdated,a.cmpId,a.cmpVersion,a.consentScreen,a.consentLanguage,a.vendorListVersion,a.policyVersion,a.isServiceSpecific,a.useNonStandardTexts,a.specialFeatureOptins,a.purposeConsents,a.purposeLegitimateInterests,a.purposeOneTreatment,a.publisherCountryCode,a.vendorConsents,a.vendorLegitimateInterests,a.publisherRestrictions],[u.PUBLISHER_TC]:[a.publisherConsents,a.publisherLegitimateInterests,a.numCustomPurposes,a.publisherCustomConsents,a.publisherCustomLegitimateInterests],[u.VENDORS_ALLOWED]:[a.vendorsAllowed],[u.VENDORS_DISCLOSED]:[a.vendorsDisclosed]}}class P{1=[u.CORE];2=[u.CORE];constructor(e,t){if(2===e.version)if(e.isServiceSpecific)this[2].push(u.PUBLISHER_TC);else{const n=!(!t||!t.isForVendors);(!n||!0===e[a.supportOOB])&&this[2].push(u.VENDORS_DISCLOSED),n&&(e[a.supportOOB]&&e[a.vendorsAllowed].size>0&&this[2].push(u.VENDORS_ALLOWED),this[2].push(u.PUBLISHER_TC))}}}class k{static fieldSequence=new S;static encode(e,t){let i;try{i=this.fieldSequence[String(e.version)][t]}catch{throw new n(`Unable to encode version: ${e.version}, segment: ${t}`)}let o="";t!==u.CORE&&(o=_.encode(h.KEY_TO_ID[t],m.segmentType));const s=I();return i.forEach((i=>{const r=e[i],d=s[i];let l=m[i];void 0===l&&this.isPublisherCustom(i)&&(l=Number(e[a.numCustomPurposes]));try{o+=d.encode(r,l)}catch(e){throw new n(`Error encoding ${t}->${i}: ${e.message}`)}})),r.encode(o)}static decode(e,n,i){const o=r.decode(e);let s=0;i===u.CORE&&(n.version=_.decode(o.substr(s,m[a.version]),m[a.version])),i!==u.CORE&&(s+=m.segmentType);const d=this.fieldSequence[String(n.version)][i],l=I();return d.forEach((e=>{const i=l[e];let r=m[e];if(void 0===r&&this.isPublisherCustom(e)&&(r=Number(n[a.numCustomPurposes])),0!==r){const a=o.substr(s,r);if(n[e]=i===O?i.decode(a,n.version):i.decode(a,r),Number.isInteger(r))s+=r;else{if(!Number.isInteger(n[e].bitLength))throw new t(e);s+=n[e].bitLength}}})),n}static isPublisherCustom(e){return 0===e.indexOf("publisherCustom")}}class L{static processor=[e=>e,(e,t)=>{e.publisherRestrictions.gvl=t,e.purposeLegitimateInterests.unset([1,3,4,5,6]);const n=new Map;return n.set("legIntPurposes",e.vendorLegitimateInterests),n.set("purposes",e.vendorConsents),n.forEach(((n,i)=>{n.forEach(((o,r)=>{if(o){const o=t.vendors[r];if(!o||o.deletedDate)n.unset(r);else if(0===o[i].length&&!("legIntPurposes"===i&&0===o.purposes.length&&0===o.legIntPurposes.length&&o.specialPurposes.length>0))if(e.isServiceSpecific)if(0===o.flexiblePurposes.length)n.unset(r);else{const t=e.publisherRestrictions.getRestrictions(r);let o=!1;for(let e=0,n=t.length;e<n&&!o;e++)o=t[e].restrictionType===l.REQUIRE_CONSENT&&"purposes"===i||t[e].restrictionType===l.REQUIRE_LI&&"legIntPurposes"===i;o||n.unset(r)}else n.unset(r)}}))})),e.vendorsDisclosed.set(t.vendors),e}];static process(e,t){const i=e.gvl;if(!i)throw new n("Unable to encode TCModel without a GVL");if(!i.isReady)throw new n("Unable to encode TCModel tcModel.gvl.readyPromise is not resolved");(e=e.clone()).consentLanguage=i.language.slice(0,2).toUpperCase(),t?.version>0&&t?.version<=this.processor.length?e.version=t.version:e.version=this.processor.length;const o=e.version-1;if(!this.processor[o])throw new n(`Invalid version: ${e.version}`);return this.processor[o](e,i)}}class T{static absCall(e,t,n,i){return new Promise(((o,r)=>{const s=new XMLHttpRequest;s.withCredentials=n,s.addEventListener("load",(()=>{if(s.readyState==XMLHttpRequest.DONE)if(s.status>=200&&s.status<300){let e=s.response;if("string"==typeof e)try{e=JSON.parse(e)}catch{}o(e)}else r(new Error(`HTTP Status: ${s.status} response type: ${s.responseType}`))})),s.addEventListener("error",(()=>{r(new Error("error"))})),s.addEventListener("abort",(()=>{r(new Error("aborted"))})),null===t?s.open("GET",e,!0):s.open("POST",e,!0),s.responseType="json",s.timeout=i,s.ontimeout=()=>{r(new Error("Timeout "+i+"ms "+e))},s.send(t)}))}static post(e,t,n=!1,i=0){return this.absCall(e,JSON.stringify(t),n,i)}static fetch(e,t=!1,n=0){return this.absCall(e,null,t,n)}}class A extends d{static LANGUAGE_CACHE=new Map;static CACHE=new Map;static LATEST_CACHE_KEY=0;static DEFAULT_LANGUAGE="EN";static consentLanguages=new s;static baseUrl_;static set baseUrl(e){if(/^https?:\/\/vendorlist\.consensu\.org\//.test(e))throw new i("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");e.length>0&&"/"!==e[e.length-1]&&(e+="/"),this.baseUrl_=e}static get baseUrl(){return this.baseUrl_}static latestFilename="vendor-list.json";static versionedFilename="archives/vendor-list-v[VERSION].json";static languageFilename="purposes-[LANG].json";readyPromise;gvlSpecificationVersion;vendorListVersion;tcfPolicyVersion;lastUpdated;purposes;specialPurposes;features;specialFeatures;isReady_=!1;vendors_;vendorIds;fullVendorList;byPurposeVendorMap;bySpecialPurposeVendorMap;byFeatureVendorMap;bySpecialFeatureVendorMap;stacks;dataCategories;lang_;cacheLang_;isLatest=!1;constructor(e){super();let t=A.baseUrl;if(this.lang_=A.DEFAULT_LANGUAGE,this.cacheLang_=A.DEFAULT_LANGUAGE,this.isVendorList(e))this.populate(e),this.readyPromise=Promise.resolve();else{if(!t)throw new i("must specify GVL.baseUrl before loading GVL json");if(e>0){const n=e;A.CACHE.has(n)?(this.populate(A.CACHE.get(n)),this.readyPromise=Promise.resolve()):(t+=A.versionedFilename.replace("[VERSION]",String(n)),this.readyPromise=this.fetchJson(t))}else A.CACHE.has(A.LATEST_CACHE_KEY)?(this.populate(A.CACHE.get(A.LATEST_CACHE_KEY)),this.readyPromise=Promise.resolve()):(this.isLatest=!0,this.readyPromise=this.fetchJson(t+A.latestFilename))}}static emptyLanguageCache(e){let t=!1;return null==e&&A.LANGUAGE_CACHE.size>0?(A.LANGUAGE_CACHE=new Map,t=!0):"string"==typeof e&&this.consentLanguages.has(e.toUpperCase())&&(A.LANGUAGE_CACHE.delete(e.toUpperCase()),t=!0),t}static emptyCache(e){let t=!1;return Number.isInteger(e)&&e>=0?(A.CACHE.delete(e),t=!0):void 0===e&&(A.CACHE=new Map,t=!0),t}cacheLanguage(){A.LANGUAGE_CACHE.has(this.cacheLang_)||A.LANGUAGE_CACHE.set(this.cacheLang_,{purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,dataCategories:this.dataCategories})}async fetchJson(e){try{this.populate(await T.fetch(e))}catch(e){throw new i(e.message)}}getJson(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,dataCategories:this.dataCategories,vendors:this.fullVendorList}))}async changeLanguage(e){let t=e;try{t=A.consentLanguages.parseLanguage(e)}catch(e){throw new i("Error during parsing the language: "+e.message)}const n=e.toUpperCase();if((t.toLowerCase()!==A.DEFAULT_LANGUAGE.toLowerCase()||A.LANGUAGE_CACHE.has(n))&&t!==this.lang_)if(this.lang_=t,A.LANGUAGE_CACHE.has(n)){const e=A.LANGUAGE_CACHE.get(n);for(const t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}else{const e=A.baseUrl+A.languageFilename.replace("[LANG]",this.lang_.toLowerCase());try{await this.fetchJson(e),this.cacheLang_=n,this.cacheLanguage()}catch(e){throw new i("unable to load language: "+e.message)}}}get language(){return this.lang_}isVendorList(e){return void 0!==e&&void 0!==e.vendors}populate(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.dataCategories=e.dataCategories,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors_=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.isReady_=!0,this.isLatest&&A.CACHE.set(A.LATEST_CACHE_KEY,this.getJson()),A.CACHE.has(this.vendorListVersion)||A.CACHE.set(this.vendorListVersion,this.getJson())),this.cacheLanguage()}mapVendors(e){this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach((e=>{this.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}})),Object.keys(this.specialPurposes).forEach((e=>{this.bySpecialPurposeVendorMap[e]=new Set})),Object.keys(this.features).forEach((e=>{this.byFeatureVendorMap[e]=new Set})),Object.keys(this.specialFeatures).forEach((e=>{this.bySpecialFeatureVendorMap[e]=new Set})),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map((e=>+e))),this.vendorIds=new Set(e),this.vendors_=e.reduce(((e,t)=>{const n=this.vendors_[String(t)];return n&&void 0===n.deletedDate&&(n.purposes.forEach((e=>{this.byPurposeVendorMap[String(e)].consent.add(t)})),n.specialPurposes.forEach((e=>{this.bySpecialPurposeVendorMap[String(e)].add(t)})),n.legIntPurposes.forEach((e=>{this.byPurposeVendorMap[String(e)].legInt.add(t)})),n.flexiblePurposes&&n.flexiblePurposes.forEach((e=>{this.byPurposeVendorMap[String(e)].flexible.add(t)})),n.features.forEach((e=>{this.byFeatureVendorMap[String(e)].add(t)})),n.specialFeatures.forEach((e=>{this.bySpecialFeatureVendorMap[String(e)].add(t)})),e[t]=n),e}),{})}getFilteredVendors(e,t,n,i){const o=e.charAt(0).toUpperCase()+e.slice(1);let r;const s={};return r="purpose"===e&&n?this["by"+o+"VendorMap"][String(t)][n]:this["by"+(i?"Special":"")+o+"VendorMap"][String(t)],r.forEach((e=>{s[String(e)]=this.vendors[String(e)]})),s}getVendorsWithConsentPurpose(e){return this.getFilteredVendors("purpose",e,"consent")}getVendorsWithLegIntPurpose(e){return this.getFilteredVendors("purpose",e,"legInt")}getVendorsWithFlexiblePurpose(e){return this.getFilteredVendors("purpose",e,"flexible")}getVendorsWithSpecialPurpose(e){return this.getFilteredVendors("purpose",e,void 0,!0)}getVendorsWithFeature(e){return this.getFilteredVendors("feature",e)}getVendorsWithSpecialFeature(e){return this.getFilteredVendors("feature",e,void 0,!0)}get vendors(){return this.vendors_}narrowVendorsTo(e){this.mapVendors(e)}get isReady(){return this.isReady_}clone(){const e=new A(this.getJson());return this.lang_!==A.DEFAULT_LANGUAGE&&e.changeLanguage(this.lang_),e}static isInstanceOf(e){return"object"==typeof e&&"function"==typeof e.narrowVendorsTo}}class N extends d{static consentLanguages=A.consentLanguages;isServiceSpecific_=!1;supportOOB_=!0;useNonStandardTexts_=!1;purposeOneTreatment_=!1;publisherCountryCode_="AA";version_=2;consentScreen_=0;policyVersion_=4;consentLanguage_="EN";cmpId_=0;cmpVersion_=0;vendorListVersion_=0;numCustomPurposes_=0;gvl_;created;lastUpdated;specialFeatureOptins=new b;purposeConsents=new b;purposeLegitimateInterests=new b;publisherConsents=new b;publisherLegitimateInterests=new b;publisherCustomConsents=new b;publisherCustomLegitimateInterests=new b;customPurposes;vendorConsents=new b;vendorLegitimateInterests=new b;vendorsDisclosed=new b;vendorsAllowed=new b;publisherRestrictions=new v;constructor(e){super(),e&&(this.gvl=e),this.updated()}set gvl(e){A.isInstanceOf(e)||(e=new A(e)),this.gvl_=e,this.publisherRestrictions.gvl=e}get gvl(){return this.gvl_}set cmpId(e){if(e=Number(e),!(Number.isInteger(e)&&e>1))throw new o("cmpId",e);this.cmpId_=e}get cmpId(){return this.cmpId_}set cmpVersion(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new o("cmpVersion",e);this.cmpVersion_=e}get cmpVersion(){return this.cmpVersion_}set consentScreen(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new o("consentScreen",e);this.consentScreen_=e}get consentScreen(){return this.consentScreen_}set consentLanguage(e){this.consentLanguage_=e}get consentLanguage(){return this.consentLanguage_}set publisherCountryCode(e){if(!/^([A-z]){2}$/.test(e))throw new o("publisherCountryCode",e);this.publisherCountryCode_=e.toUpperCase()}get publisherCountryCode(){return this.publisherCountryCode_}set vendorListVersion(e){if((e=Number(e)>>0)<0)throw new o("vendorListVersion",e);this.vendorListVersion_=e}get vendorListVersion(){return this.gvl?this.gvl.vendorListVersion:this.vendorListVersion_}set policyVersion(e){if(this.policyVersion_=parseInt(e,10),this.policyVersion_<0)throw new o("policyVersion",e)}get policyVersion(){return this.gvl?this.gvl.tcfPolicyVersion:this.policyVersion_}set version(e){this.version_=parseInt(e,10)}get version(){return this.version_}set isServiceSpecific(e){this.isServiceSpecific_=e}get isServiceSpecific(){return this.isServiceSpecific_}set useNonStandardTexts(e){this.useNonStandardTexts_=e}get useNonStandardTexts(){return this.useNonStandardTexts_}set supportOOB(e){this.supportOOB_=e}get supportOOB(){return this.supportOOB_}set purposeOneTreatment(e){this.purposeOneTreatment_=e}get purposeOneTreatment(){return this.purposeOneTreatment_}setAllVendorConsents(){this.vendorConsents.set(this.gvl.vendors)}unsetAllVendorConsents(){this.vendorConsents.empty()}setAllVendorsDisclosed(){this.vendorsDisclosed.set(this.gvl.vendors)}unsetAllVendorsDisclosed(){this.vendorsDisclosed.empty()}setAllVendorsAllowed(){this.vendorsAllowed.set(this.gvl.vendors)}unsetAllVendorsAllowed(){this.vendorsAllowed.empty()}setAllVendorLegitimateInterests(){this.vendorLegitimateInterests.set(this.gvl.vendors)}unsetAllVendorLegitimateInterests(){this.vendorLegitimateInterests.empty()}setAllPurposeConsents(){this.purposeConsents.set(this.gvl.purposes)}unsetAllPurposeConsents(){this.purposeConsents.empty()}setAllPurposeLegitimateInterests(){this.purposeLegitimateInterests.set(this.gvl.purposes)}unsetAllPurposeLegitimateInterests(){this.purposeLegitimateInterests.empty()}setAllSpecialFeatureOptins(){this.specialFeatureOptins.set(this.gvl.specialFeatures)}unsetAllSpecialFeatureOptins(){this.specialFeatureOptins.empty()}setAll(){this.setAllVendorConsents(),this.setAllPurposeLegitimateInterests(),this.setAllSpecialFeatureOptins(),this.setAllPurposeConsents(),this.setAllVendorLegitimateInterests()}unsetAll(){this.unsetAllVendorConsents(),this.unsetAllPurposeLegitimateInterests(),this.unsetAllSpecialFeatureOptins(),this.unsetAllPurposeConsents(),this.unsetAllVendorLegitimateInterests()}get numCustomPurposes(){let e=this.numCustomPurposes_;if("object"==typeof this.customPurposes){const t=Object.keys(this.customPurposes).sort(((e,t)=>Number(e)-Number(t)));e=parseInt(t.pop(),10)}return e}set numCustomPurposes(e){if(this.numCustomPurposes_=parseInt(e,10),this.numCustomPurposes_<0)throw new o("numCustomPurposes",e)}updated(){const e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.created=t,this.lastUpdated=t}}class V{static encode(e,t){let n,i="";return e=L.process(e,t),n=Array.isArray(t?.segments)?t.segments:new P(e,t)[""+e.version],n.forEach(((t,o)=>{let r="";o<n.length-1&&(r="."),i+=k.encode(e,t)+r})),i}static decode(e,t){const n=e.split("."),i=n.length;t||(t=new N);for(let e=0;e<i;e++){const i=n[e],o=r.decode(i.charAt(0)).substr(0,m.segmentType),s=h.ID_TO_KEY[_.decode(o,m.segmentType).toString()];k.decode(i,t,s)}return t}}const R=e=>{var t;const n=null!=(t=window.dataLayer)?t:[];window.dataLayer=n;const i={consent:e.detail.consent};n.push({event:e.type,Fides:i})},F=()=>{var e;window.addEventListener("FidesInitialized",(e=>R(e))),window.addEventListener("FidesUpdated",(e=>R(e))),null!=(e=window.Fides)&&e.initialized&&R({type:"FidesInitialized",detail:{consent:window.Fides.consent,fides_meta:window.Fides.fides_meta,identity:window.Fides.identity,tcf_consent:window.Fides.tcf_consent}})},D=e=>{const t=(()=>{if(window.fbq)return window.fbq;const e={queue:[],loaded:!0,version:"2.0",push(...e){const t=window.fbq;t.callMethod?t.callMethod(...e):t.queue.push(e)}};return window.fbq=Object.assign(e.push,e),window._fbq=window.fbq,window.fbq})();t("consent",e.consent?"grant":"revoke"),e.dataUse?t("dataProcessingOptions",[]):t("dataProcessingOptions",["LDU"],1,1e3)},j=e=>{var t;if(null==(t=window.Shopify)||!t.customerPrivacy)throw Error("Fides could not access Shopify's customerPrivacy API");window.Shopify.customerPrivacy.setTrackingConsent(!!e.tracking,(()=>{}))},U=e=>{if(!window.Shopify)throw Error("Fides.shopify was called but Shopify is not present in the page.");window.Shopify.customerPrivacy?j(e):window.Shopify.loadFeatures([{name:"consent-tracking-api",version:"0.1"}],(t=>{if(t)throw Error("Fides could not load Shopify's consent-tracking-api");j(e)}))};class M{constructor(e,t,n){this.notice=e,this.consentPreference=t,this.servedNoticeHistoryId=n}}e.TCMobileDataVals=void 0,(e=>{var t;(t=e.IABTCFgdprApplies||(e.IABTCFgdprApplies={}))[t._0=0]="_0",t[t._1=1]="_1",(e=>{e[e._0=0]="_0",e[e._1=1]="_1"})(e.IABTCFPurposeOneTreatment||(e.IABTCFPurposeOneTreatment={})),(e=>{e[e._0=0]="_0",e[e._1=1]="_1"})(e.IABTCFUseNonStandardTexts||(e.IABTCFUseNonStandardTexts={}))})(e.TCMobileDataVals||(e.TCMobileDataVals={}));var $,z,B,G,H=(e=>(e.FRONTEND="frontend",e.SYSTEM_WIDE="system_wide",e.NOT_APPLICABLE="not_applicable",e))(H||{}),K=(e=>(e.OPT_IN="opt_in",e.OPT_OUT="opt_out",e.NOTICE_ONLY="notice_only",e))(K||{}),Y=(e=>(e.OPT_IN="opt_in",e.OPT_OUT="opt_out",e.ACKNOWLEDGE="acknowledge",e))(Y||{}),W=(e=>(e.OVERLAY="overlay",e.PRIVACY_CENTER="privacy_center",e.TCF_OVERLAY="tcf_overlay",e))(W||{}),q=(e=>(e.ALWAYS_ENABLED="always_enabled",e.ENABLED_WHERE_REQUIRED="enabled_where_required",e.ALWAYS_DISABLED="always_disabled",e))(q||{}),Q=(e=>(e.PRIMARY="primary",e.SECONDARY="secondary",e.TERTIARY="tertiary",e))(Q||{}),J=(e=>(e.BUTTON="button",e.REJECT="reject",e.ACCEPT="accept",e.SAVE="save",e.DISMISS="dismiss",e.GPC="gpc",e.INDIVIDUAL_NOTICE="individual_notice",e))(J||{}),Z=(e=>(e.privacy_center="privacy_center",e.overlay="overlay",e.api="api",e))(Z||{}),X=(e=>(e.NONE="none",e.APPLIED="applied",e.OVERRIDDEN="overridden",e))(X||{}),ee=(e=>(e.OVERLAY="overlay",e.BANNER="banner",e.PRIVACY_CENTER="privacy_center",e.TCF_OVERLAY="tcf_overlay",e.TCF_BANNER="tcf_banner",e))(ee||{});!function(e){e.PING="ping",e.GET_TC_DATA="getTCData",e.GET_IN_APP_TC_DATA="getInAppTCData",e.GET_VENDOR_LIST="getVendorList",e.ADD_EVENT_LISTENER="addEventListener",e.REMOVE_EVENT_LISTENER="removeEventListener"}($||($={})),function(e){e.STUB="stub",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error"}(z||(z={})),function(e){e.VISIBLE="visible",e.HIDDEN="hidden",e.DISABLED="disabled"}(B||(B={})),function(e){e.TC_LOADED="tcloaded",e.CMP_UI_SHOWN="cmpuishown",e.USER_ACTION_COMPLETE="useractioncomplete"}(G||(G={}));class te{listenerId;callback;next;param;success=!0;constructor(e,t,n,i){Object.assign(this,{callback:e,listenerId:n,param:t,next:i});try{this.respond()}catch{this.invokeCallback(null)}}invokeCallback(e){const t=null!==e;"function"==typeof this.next?this.callback(this.next,e,t):this.callback(e,t)}}class ne extends te{respond(){this.throwIfParamInvalid(),this.invokeCallback(new ae(this.param,this.listenerId))}throwIfParamInvalid(){if(!(void 0===this.param||Array.isArray(this.param)&&this.param.every(Number.isInteger)))throw new Error("Invalid Parameter")}}class ie{eventQueue=new Map;queueNumber=0;add(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++}remove(e){return this.eventQueue.delete(e)}exec(){this.eventQueue.forEach(((e,t)=>{new ne(e.callback,e.param,t,e.next)}))}clear(){this.queueNumber=0,this.eventQueue.clear()}get size(){return this.eventQueue.size}}class oe{static apiVersion="2";static tcfPolicyVersion;static eventQueue=new ie;static cmpStatus=z.LOADING;static disabled=!1;static displayStatus=B.HIDDEN;static cmpId;static cmpVersion;static eventStatus;static gdprApplies;static tcModel;static tcString;static reset(){delete this.cmpId,delete this.cmpVersion,delete this.eventStatus,delete this.gdprApplies,delete this.tcModel,delete this.tcString,delete this.tcfPolicyVersion,this.cmpStatus=z.LOADING,this.disabled=!1,this.displayStatus=B.HIDDEN,this.eventQueue.clear()}}class re{cmpId=oe.cmpId;cmpVersion=oe.cmpVersion;gdprApplies=oe.gdprApplies;tcfPolicyVersion=oe.tcfPolicyVersion}class se extends re{cmpStatus=z.ERROR}class ae extends re{tcString;listenerId;eventStatus;cmpStatus;isServiceSpecific;useNonStandardStacks;publisherCC;purposeOneTreatment;outOfBand;purpose;vendor;specialFeatureOptins;publisher;constructor(e,t){if(super(),this.eventStatus=oe.eventStatus,this.cmpStatus=oe.cmpStatus,this.listenerId=t,oe.gdprApplies){const t=oe.tcModel;this.tcString=oe.tcString,this.isServiceSpecific=t.isServiceSpecific,this.useNonStandardStacks=t.useNonStandardStacks,this.purposeOneTreatment=t.purposeOneTreatment,this.publisherCC=t.publisherCountryCode,this.outOfBand={allowedVendors:this.createVectorField(t.vendorsAllowed,e),disclosedVendors:this.createVectorField(t.vendorsDisclosed,e)},this.purpose={consents:this.createVectorField(t.purposeConsents),legitimateInterests:this.createVectorField(t.purposeLegitimateInterests)},this.vendor={consents:this.createVectorField(t.vendorConsents,e),legitimateInterests:this.createVectorField(t.vendorLegitimateInterests,e)},this.specialFeatureOptins=this.createVectorField(t.specialFeatureOptins),this.publisher={consents:this.createVectorField(t.publisherConsents),legitimateInterests:this.createVectorField(t.publisherLegitimateInterests),customPurpose:{consents:this.createVectorField(t.publisherCustomConsents),legitimateInterests:this.createVectorField(t.publisherCustomLegitimateInterests)},restrictions:this.createRestrictions(t.publisherRestrictions)}}}createRestrictions(e){const t={};if(e.numRestrictions>0){const n=e.getMaxVendorId();for(let i=1;i<=n;i++){const n=i.toString();e.getRestrictions(i).forEach((e=>{const i=e.purposeId.toString();t[i]||(t[i]={}),t[i][n]=e.restrictionType}))}}return t}createVectorField(e,t){return t?t.reduce(((t,n)=>(t[String(n)]=e.has(Number(n)),t)),{}):[...e].reduce(((e,t)=>(e[t[0].toString(10)]=t[1],e)),{})}}class de extends ae{constructor(e){super(e),delete this.outOfBand}createVectorField(e){return[...e].reduce(((e,t)=>e+=t[1]?"1":"0"),"")}createRestrictions(e){const t={};if(e.numRestrictions>0){const n=e.getMaxVendorId();e.getRestrictions().forEach((e=>{t[e.purposeId.toString()]="_".repeat(n)}));for(let i=0;i<n;i++){const n=i+1;e.getRestrictions(n).forEach((e=>{const n=e.restrictionType.toString(),o=e.purposeId.toString(),r=t[o].substr(0,i),s=t[o].substr(i+1);t[o]=r+n+s}))}}return t}}class le extends re{cmpLoaded=!0;cmpStatus=oe.cmpStatus;displayStatus=oe.displayStatus;apiVersion=String(oe.apiVersion);gvlVersion;constructor(){super(),oe.tcModel&&oe.tcModel.vendorListVersion&&(this.gvlVersion=+oe.tcModel.vendorListVersion)}}class ce extends te{respond(){this.invokeCallback(new le)}}class pe extends ne{respond(){this.throwIfParamInvalid(),this.invokeCallback(new de(this.param))}}class ue extends te{respond(){const e=oe.tcModel,t=e.vendorListVersion;let n;void 0===this.param&&(this.param=t),n=this.param===t&&e.gvl?e.gvl:new A(this.param),n.readyPromise.then((()=>{this.invokeCallback(n.getJson())}))}}class fe extends ne{respond(){this.listenerId=oe.eventQueue.add({callback:this.callback,param:this.param,next:this.next}),super.respond()}}class ge extends te{respond(){this.invokeCallback(oe.eventQueue.remove(this.param))}}class ve{static[$.PING]=ce;static[$.GET_TC_DATA]=ne;static[$.GET_IN_APP_TC_DATA]=pe;static[$.GET_VENDOR_LIST]=ue;static[$.ADD_EVENT_LISTENER]=fe;static[$.REMOVE_EVENT_LISTENER]=ge}class he{static set_=new Set([0,2,void 0,null]);static has(e){return"string"==typeof e&&(e=Number(e)),this.set_.has(e)}}const be="__tcfapi";class me{callQueue;customCommands;constructor(e){if(e){let t=$.ADD_EVENT_LISTENER;if(e?.[t])throw new Error(`Built-In Custom Commmand for ${t} not allowed: Use ${$.GET_TC_DATA} instead`);if(t=$.REMOVE_EVENT_LISTENER,e?.[t])throw new Error(`Built-In Custom Commmand for ${t} not allowed`);e?.[$.GET_TC_DATA]&&(e[$.ADD_EVENT_LISTENER]=e[$.GET_TC_DATA],e[$.REMOVE_EVENT_LISTENER]=e[$.GET_TC_DATA]),this.customCommands=e}try{this.callQueue=window[be]()||[]}catch{this.callQueue=[]}finally{window[be]=this.apiCall.bind(this),this.purgeQueuedCalls()}}apiCall(e,t,n,...i){if("string"!=typeof e)n(null,!1);else if(he.has(t)){if("function"!=typeof n)throw new Error("invalid callback function");oe.disabled?n(new se,!1):this.isCustomCommand(e)||this.isBuiltInCommand(e)?this.isCustomCommand(e)&&!this.isBuiltInCommand(e)?this.customCommands[e](n,...i):e===$.PING?this.isCustomCommand(e)?new ve[e](this.customCommands[e],i[0],null,n):new ve[e](n,i[0]):void 0===oe.tcModel?this.callQueue.push([e,t,n,...i]):this.isCustomCommand(e)&&this.isBuiltInCommand(e)?new ve[e](this.customCommands[e],i[0],null,n):new ve[e](n,i[0]):n(null,!1)}else n(null,!1)}purgeQueuedCalls(){const e=this.callQueue;this.callQueue=[],e.forEach((e=>{window[be](...e)}))}isCustomCommand(e){return this.customCommands&&"function"==typeof this.customCommands[e]}isBuiltInCommand(e){return void 0!==ve[e]}}class ye{callResponder;isServiceSpecific;numUpdates=0;constructor(e,t,n=!1,i){this.throwIfInvalidInt(e,"cmpId",2),this.throwIfInvalidInt(t,"cmpVersion",0),oe.cmpId=e,oe.cmpVersion=t,oe.tcfPolicyVersion=2,this.isServiceSpecific=!!n,this.callResponder=new me(i)}throwIfInvalidInt(e,t,n){if(!("number"==typeof e&&Number.isInteger(e)&&e>=n))throw new Error(`Invalid ${t}: ${e}`)}update(e,t=!1){if(oe.disabled)throw new Error("CmpApi Disabled");oe.cmpStatus=z.LOADED,t?(oe.displayStatus=B.VISIBLE,oe.eventStatus=G.CMP_UI_SHOWN):void 0===oe.tcModel?(oe.displayStatus=B.DISABLED,oe.eventStatus=G.TC_LOADED):(oe.displayStatus=B.HIDDEN,oe.eventStatus=G.USER_ACTION_COMPLETE),oe.gdprApplies=null!==e,oe.gdprApplies?(""===e?(oe.tcModel=new N,oe.tcModel.cmpId=oe.cmpId,oe.tcModel.cmpVersion=oe.cmpVersion):oe.tcModel=V.decode(e),oe.tcModel.isServiceSpecific=this.isServiceSpecific,oe.tcfPolicyVersion=Number(oe.tcModel.policyVersion),oe.tcString=e):oe.tcModel=null,0===this.numUpdates?this.callResponder.purgeQueuedCalls():oe.eventQueue.exec(),this.numUpdates++}disable(){oe.disabled=!0,oe.cmpStatus=z.ERROR}}var _e=Object.defineProperty,we=Object.defineProperties,xe=Object.getOwnPropertyDescriptors,Ce=Object.getOwnPropertySymbols,Ee=Object.prototype.hasOwnProperty,Oe=Object.prototype.propertyIsEnumerable,Ie=(e,t,n)=>t in e?_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Se=(e,t)=>{for(var n in t||(t={}))Ee.call(t,n)&&Ie(e,n,t[n]);if(Ce)for(var n of Ce(t))Oe.call(t,n)&&Ie(e,n,t[n]);return e},Pe=(e=>(e.GVL="gvl",e.AC="gacp",e))(Pe||{});const ke=e=>{const t=e.split(".");return 1===t.length?{source:void 0,id:t[0]}:{source:t[0],id:t[1]}},Le=(e,t)=>{if(!t)return;const{source:n,id:i}=ke(e);return"gvl"===n||void 0===n?t.vendors[i]:void 0},Te=({consents:e,legints:t,relationships:n,isFidesSystem:i,gvl:o})=>{const r=[];return n.forEach((n=>{const s=e.find((e=>e.id===n.id)),a=t.find((e=>e.id===n.id)),d=((e,t)=>we(e,xe(t)))(Se(Se(Se({},n),s),a),{isFidesSystem:i,isConsent:!!s,isLegint:!!a,isGvl:!!Le(n.id,o)});r.push(d)})),r};var Ae=(e=>(e.CONSENT="Consent",e.CONTRACT="Contract",e.LEGAL_OBLIGATIONS="Legal obligations",e.VITAL_INTERESTS="Vital interests",e.PUBLIC_INTEREST="Public interest",e.LEGITIMATE_INTERESTS="Legitimate interests",e))(Ae||{}),Ne=(e=>(e.CONSENT="Consent",e.LEGITIMATE_INTERESTS="Legitimate interests",e))(Ne||{});const Ve=",",Re=[{experienceKey:"tcf_purpose_consents",tcfModelKey:"purposeConsents",enabledIdsKey:"purposesConsent"},{experienceKey:"tcf_purpose_legitimate_interests",tcfModelKey:"purposeLegitimateInterests",enabledIdsKey:"purposesLegint"},{experienceKey:"tcf_special_features",tcfModelKey:"specialFeatureOptins",enabledIdsKey:"specialFeatures"},{experienceKey:"tcf_vendor_consents",tcfModelKey:"vendorConsents",enabledIdsKey:"vendorsConsent"},{experienceKey:"tcf_vendor_legitimate_interests",tcfModelKey:"vendorLegitimateInterests",enabledIdsKey:"vendorsLegint"}],Fe=[{cookieKey:"system_consent_preferences",experienceKey:"tcf_system_consents"},{cookieKey:"system_legitimate_interests_preferences",experienceKey:"tcf_system_legitimate_interests"}],De=Re.filter((({experienceKey:e})=>"tcf_features"!==e&&"tcf_special_purposes"!==e)).map((e=>e.experienceKey)),je=[{label:"Consent",value:Ne.CONSENT},{label:"Legitimate interest",value:Ne.LEGITIMATE_INTERESTS}],Ue=e=>{if(!window.Fides.options.fidesTcfGdprApplies)return null;const{fides_string:t}=e.detail;if(t){const[e]=t.split(Ve);return e.split(".")[0]}return t??""};var Me=Object.defineProperty,$e=Object.defineProperties,ze=Object.getOwnPropertyDescriptors,Be=Object.getOwnPropertySymbols,Ge=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable,Ke=(e,t,n)=>t in e?Me(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Ye=[1,3,4,5,6],We=({tcStringPreferences:e})=>`1~${Array.from(new Set([...e.vendorsConsent,...e.vendorsLegint].filter((e=>(e=>"gacp"===ke(e).source)(e))).map((e=>ke(e).id)))).sort(((e,t)=>Number(e)-Number(t))).join(".")}`,qe=e=>((e,t,n)=>new Promise(((i,o)=>{var r=e=>{try{a(n.next(e))}catch(e){o(e)}},s=e=>{try{a(n.throw(e))}catch(e){o(e)}},a=e=>e.done?i(e.value):Promise.resolve(e.value).then(r,s);a((n=n.apply(e,t)).next())})))(void 0,[e],(function*({experience:e,tcStringPreferences:t}){let n="";try{const i=new N(new A(e.gvl));if(yield i.gvl.readyPromise,i.cmpId=407,i.cmpVersion=1,i.consentScreen=1,i.isServiceSpecific=!0,i.supportOOB=!1,i.gvl.narrowVendorsTo((e=>{const{tcf_vendor_relationships:t=[]}=e;return t.map((e=>e.id)).filter((t=>Le(t,e.gvl))).map((e=>+ke(e).id))})(e)),t){t.vendorsConsent.forEach((t=>{if(Le(t,e.gvl)){const{id:e}=ke(t);i.vendorConsents.set(+e)}})),t.vendorsLegint.forEach((t=>{var n;if(Le(t,e.gvl)){const o=null==(n=e.tcf_vendor_legitimate_interests)?void 0:n.filter((e=>e.id===t))[0],r=o?.purpose_legitimate_interests;let s=!1;if(r&&(r.map((e=>e.id)).filter((e=>Ye.includes(e))).length&&(s=!0),!s)){const{id:e}=ke(t);i.vendorLegitimateInterests.set(+e)}}})),t.purposesConsent.forEach((e=>{i.purposeConsents.set(+e)})),t.purposesLegint.forEach((e=>{const t=+e;Ye.includes(t)||i.purposeLegitimateInterests.set(t)})),t.specialFeatures.forEach((e=>{i.specialFeatureOptins.set(+e)})),n=V.encode(i,{segments:[u.CORE,u.VENDORS_DISCLOSED]});const o=We({tcStringPreferences:t});n=`${n}${Ve}${o}`}}catch(e){return console.error("Unable to instantiate GVL: ",e),Promise.resolve("")}return Promise.resolve(n)})),Qe=()=>{const e=new ye(407,1,!0,{getTCData:(e,t,n)=>{var i;if("boolean"==typeof t)e(t,n);else{const o=null==(i=window.Fides.fides_string)?void 0:i.split(Ve),r=2===o?.length?o[1]:"";e(((e,t)=>$e(e,ze(t)))(((e,t)=>{for(var n in t||(t={}))Ge.call(t,n)&&Ke(e,n,t[n]);if(Be)for(var n of Be(t))He.call(t,n)&&Ke(e,n,t[n]);return e})({},t),{addtlConsent:r}),n)}}});window.addEventListener("FidesInitialized",(t=>{const n=Ue(t);e.update(n,!1)})),window.addEventListener("FidesUIShown",(t=>{const n=Ue(t);e.update(n,!0)})),window.addEventListener("FidesModalClosed",(t=>{const n=Ue(t);e.update(n,!1)})),window.addEventListener("FidesUpdated",(t=>{const n=Ue(t);e.update(n,!1)}))},Je=()=>{var e;if(window.Fides.options.tcfEnabled)return!1;if("boolean"==typeof(null==(e=window.navigator)?void 0:e.globalPrivacyControl))return window.navigator.globalPrivacyControl;const t=new URL(window.location.href).searchParams.get("globalPrivacyControl");return"true"===t||"false"!==t&&void 0},Ze=()=>typeof window>"u"?{}:{globalPrivacyControl:Je()};let Xe;const et=new Uint8Array(16);function tt(){if(!Xe&&(Xe=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Xe))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xe(et)}const nt=[];for(let e=0;e<256;++e)nt.push((e+256).toString(16).slice(1));var it={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function ot(e,t,n){if(it.randomUUID&&!t&&!e)return it.randomUUID();const i=(e=e||{}).random||(e.rng||tt)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=i[e];return t}return function(e,t=0){return(nt[e[t+0]]+nt[e[t+1]]+nt[e[t+2]]+nt[e[t+3]]+"-"+nt[e[t+4]]+nt[e[t+5]]+"-"+nt[e[t+6]]+nt[e[t+7]]+"-"+nt[e[t+8]]+nt[e[t+9]]+"-"+nt[e[t+10]]+nt[e[t+11]]+nt[e[t+12]]+nt[e[t+13]]+nt[e[t+14]]+nt[e[t+15]]).toLowerCase()}(i)}/*! typescript-cookie v1.0.6 | MIT */const rt=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),st=e=>encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent),at=decodeURIComponent,dt=e=>('"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent));function lt(e,t,n){const i=/(?:^|; )([^=]*)=([^;]*)/g,o={};let r;for(;null!=(r=i.exec(document.cookie));)try{const i=n(r[1]);if(o[i]=t(r[2],i),e===i)break}catch{}return null!=e?o[e]:o}const ct=Object.freeze({decodeName:at,decodeValue:dt,encodeName:rt,encodeValue:st}),pt=Object.freeze({path:"/"});function ut(e,t,n=pt,{encodeValue:i=st,encodeName:o=rt}={}){return document.cookie=`${o(e)}=${i(t,e)}${function(e){return"number"==typeof(e=Object.assign({},e)).expires&&(e.expires=new Date(Date.now()+864e5*e.expires)),null!=e.expires&&(e.expires=e.expires.toUTCString()),Object.entries(e).filter((([e,t])=>null!=t&&!1!==t)).map((([e,t])=>!0===t?`; ${e}`:`; ${e}=${t.split(";")[0]}`)).join("")}(n)}`}function ft(e,{decodeValue:t=dt,decodeName:n=at}={}){return lt(e,t,n)}function gt(e,t=pt){ut(e,"",Object.assign({},t,{expires:-1}))}!function e(t,n){const i={set:function(e,t,n){return ut(e,t,Object.assign({},this.attributes,n),{encodeValue:this.converter.write})},get:function(e){return 0===arguments.length?function({decodeValue:e=dt,decodeName:t=at}={}){return lt(void 0,e,t)}(this.converter.read):null!=e?ft(e,this.converter.read):void 0},remove:function(e,t){gt(e,Object.assign({},this.attributes,t))},withAttributes:function(t){return e(this.converter,Object.assign({},this.attributes,t))},withConverter:function(t){return e(Object.assign({},this.converter,t),this.attributes)}},o={attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}};return Object.create(i,o)}({read:ct.decodeValue,write:ct.encodeValue},pt);const vt=/^\w{2,3}(-\w{2,3})?$/,ht=[{fidesOption:"fidesEmbed",fidesOptionType:"boolean",fidesOverrideKey:"fides_embed",validationRegex:/^(true|false)$/},{fidesOption:"fidesDisableSaveApi",fidesOptionType:"boolean",fidesOverrideKey:"fides_disable_save_api",validationRegex:/^(true|false)$/},{fidesOption:"fidesDisableBanner",fidesOptionType:"boolean",fidesOverrideKey:"fides_disable_banner",validationRegex:/^(true|false)$/},{fidesOption:"fidesString",fidesOptionType:"string",fidesOverrideKey:"fides_string",validationRegex:/(.*)/},{fidesOption:"fidesTcfGdprApplies",fidesOptionType:"boolean",fidesOverrideKey:"fides_tcf_gdpr_applies",validationRegex:/^(true|false)$/}],bt=(e,...t)=>{e&&console.log(...t)},mt=e=>!(!e||"object"!=typeof e||0!==Object.keys(e).length&&!("id"in e)),yt=(e,t=!1)=>(bt(t,"constructing geolocation..."),e?e.location&&vt.test(e.location)?e.location.replace("-","_").toLowerCase():e.country&&e.region?`${e.country.toLowerCase()}_${e.region.toLowerCase()}`:(bt(t,"cannot construct user location from provided geoLocation params..."),null):(bt(t,"cannot construct user location since geoLocation is undefined or null"),null)),_t=e=>!(!e||e===Y.OPT_OUT||e!==Y.OPT_IN&&e!==Y.ACKNOWLEDGE),wt=(e,t)=>e?t===K.NOTICE_ONLY?Y.ACKNOWLEDGE:Y.OPT_IN:Y.OPT_OUT,xt=e=>{if(bt(e.debug,"Validating Fides consent overlay options...",e),"object"!=typeof e)return!1;if(!e.fidesApiUrl)return bt(e.debug,"Invalid options: fidesApiUrl is required!"),!1;if(!e.privacyCenterUrl)return bt(e.debug,"Invalid options: privacyCenterUrl is required!"),!1;try{new URL(e.privacyCenterUrl),new URL(e.fidesApiUrl)}catch{return bt(e.debug,"Invalid options: privacyCenterUrl or fidesApiUrl is an invalid URL!",e.privacyCenterUrl),!1}return!0},Ct=(e,t)=>mt(e)?e.component!==W.OVERLAY&&e.component!==W.TCF_OVERLAY?(bt(t.debug,"No experience found with overlay component. Skipping overlay initialization."),!1):e.component!==W.OVERLAY||e.privacy_notices&&e.privacy_notices.length>0?!!e.experience_config||(bt(t.debug,"No experience config found with for experience. Skipping overlay initialization."),!1):(bt(t.debug,"Privacy experience has no notices. Skipping overlay initialization."),!1):(bt(t.debug,"No relevant experience found. Skipping overlay initialization."),!1),Et=e=>De.some((t=>(e=>!(!e||0===e.length)&&e.some((e=>e.current_preference)))(e[t]))),Ot=(e,t)=>{var n,i;return e.component===W.TCF_OVERLAY&&null!=(n=e.meta)&&n.version_hash?e.meta.version_hash!==t.tcf_version_hash:!(null==(i=e?.privacy_notices)||!i.some((e=>null==e.current_preference)))},It=e=>{"window"===e[0]&&e.shift();let t=window;for(;e.length>0;){const n=e.shift();if(typeof n>"u"||"object"!=typeof t[n])return;t=t[n]}return t},St=({value:e,notice:t,consentContext:n})=>n.globalPrivacyControl&&t.has_gpc_flag&&t.consent_mechanism!==K.NOTICE_ONLY?e?X.OVERRIDDEN:X.APPLIED:X.NONE,Pt=(e,t)=>void 0!==e&&("boolean"==typeof e?e:!0===t.globalPrivacyControl?e.globalPrivacyControl:e.value),kt=(e,t)=>e.current_preference?_t(e.current_preference):e.consent_mechanism===K.NOTICE_ONLY||(!e.has_gpc_flag||!0!==t.globalPrivacyControl)&&_t(e.default_preference);var Lt=Object.defineProperty,Tt=Object.defineProperties,At=Object.getOwnPropertyDescriptors,Nt=Object.getOwnPropertySymbols,Vt=Object.prototype.hasOwnProperty,Rt=Object.prototype.propertyIsEnumerable,Ft=(e,t,n)=>t in e?Lt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dt=(e,t)=>{for(var n in t||(t={}))Vt.call(t,n)&&Ft(e,n,t[n]);if(Nt)for(var n of Nt(t))Rt.call(t,n)&&Ft(e,n,t[n]);return e},jt=(e,t)=>Tt(e,At(t));const Ut="fides_consent",Mt={decodeName:decodeURIComponent,decodeValue:decodeURIComponent,encodeName:encodeURIComponent,encodeValue:encodeURIComponent},$t=e=>!!e&&Object.values(e).some((e=>void 0!==e)),zt=()=>ot(),Bt=e=>{var t;return!(null!=(t=e.fides_meta)&&t.updatedAt)},Gt=e=>{const t=new Date;return{consent:e||{},identity:{fides_user_device_id:zt()},fides_meta:{version:"0.9.0",createdAt:t.toISOString(),updatedAt:""},tcf_consent:{}}},Ht=e=>ft(e,Mt),Kt=(e,t=!1)=>{const n=Gt(e);if(typeof document>"u")return n;const i=Ht(Ut);if(!i)return bt(t,"No existing Fides consent cookie found, returning defaults.",i),n;try{let o;const r=JSON.parse(i);o="consent"in r&&"fides_meta"in r?r:jt(Dt({},n),{consent:r});const s=Dt(Dt({},e),o.consent);return o.consent=s,bt(t,"Applied existing consent to data from existing Fides consent cookie.",JSON.stringify(o)),o}catch(e){return bt(t,"Unable to read consent cookie: invalid JSON.",e),n}},Yt=e=>{if(typeof document>"u")return;const t=(new Date).toISOString();e.fides_meta.updatedAt=t;const n=window.location.hostname.split(".").slice(-2).join(".");ut(Ut,JSON.stringify(e),{path:"/",domain:n,expires:365},Mt)},Wt=(e,t,n)=>{const i={};return e.privacy_notices&&(e.privacy_notices.forEach((e=>{i[e.notice_key]=kt(e,t)})),bt(n,"Returning cookie consent for experiences.",i)),i},qt=({experience:e,cookie:t,debug:n})=>{var i;const o=null==(i=e.privacy_notices)?void 0:i.map((e=>{var n;const i=null!=(n=e.current_preference)?n:void 0,o=Object.hasOwn(t.consent,e.notice_key)?wt(!!t.consent[e.notice_key],e.consent_mechanism):i;return jt(Dt({},e),{current_preference:o})}));return n&&bt(n,"Returning updated pre-fetched experience with user consent.",e),jt(Dt({},e),{privacy_notices:o})},Qt=e=>{const t={};return Fe.forEach((({cookieKey:n})=>{var i;const o=null!=(i=e[n])?i:[];t[n]=Object.fromEntries(o.map((e=>[e.id,_t(e.preference)])))})),t},Jt=(e,t,n)=>{const i={};return e?.options.forEach((({cookieKeys:e,default:n})=>{if(void 0===n)return;const o=Pt(n,t);e.forEach((e=>{const t=i[e];i[e]=void 0!==t?t&&o:o}))})),bt(n,"Returning defaults for legacy config.",i),i},Zt=e=>{e.forEach((e=>{var t;gt(e.name,{path:null!=(t=e.path)?t:"/",domain:e.domain})}))},Xt=(e,t)=>((e,t,n)=>new Promise(((i,o)=>{var r=e=>{try{a(n.next(e))}catch(e){o(e)}},s=e=>{try{a(n.throw(e))}catch(e){o(e)}},a=e=>e.done?i(e.value):Promise.resolve(e.value).then(r,s);a((n=n.apply(e,t)).next())})))(void 0,null,(function*(){const n=new Map(t.map((({notice:e,consentPreference:t})=>[e.notice_key,_t(t)]))),i=Object.fromEntries(n);return jt(Dt({},e),{consent:i})}));var en=Object.defineProperty,tn=Object.defineProperties,nn=Object.getOwnPropertyDescriptors,on=Object.getOwnPropertySymbols,rn=Object.prototype.hasOwnProperty,sn=Object.prototype.propertyIsEnumerable,an=(e,t,n)=>t in e?en(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dn=(e,t)=>{for(var n in t||(t={}))rn.call(t,n)&&an(e,n,t[n]);if(on)for(var n of on(t))sn.call(t,n)&&an(e,n,t[n]);return e},ln=(e,t)=>tn(e,nn(t)),cn=(e,t,n)=>new Promise(((i,o)=>{var r=e=>{try{a(n.next(e))}catch(e){o(e)}},s=e=>{try{a(n.throw(e))}catch(e){o(e)}},a=e=>e.done?i(e.value):Promise.resolve(e.value).then(r,s);a((n=n.apply(e,t)).next())})),pn=(e=>(e.PRIVACY_EXPERIENCE="/privacy-experience",e.PRIVACY_PREFERENCES="/privacy-preferences",e.NOTICES_SERVED="/notices-served",e))(pn||{});const un={method:"PATCH",mode:"cors",headers:{"Content-Type":"application/json"}},fn=(e,t,n=!1)=>((e,t,n)=>new Promise(((i,o)=>{var r=e=>{try{a(n.next(e))}catch(e){o(e)}},s=e=>{try{a(n.throw(e))}catch(e){o(e)}},a=e=>e.done?i(e.value):Promise.resolve(e.value).then(r,s);a((n=n.apply(e,t)).next())})))(void 0,null,(function*(){if(bt(n,"Running getLocation..."),!e)return bt(n,"User location could not be retrieved because geolocation is disabled."),null;if(!t)return bt(n,"Location cannot be found due to no configured geoLocationApiUrl."),null;bt(n,`Calling geolocation API: GET ${t}...`);const i=yield fetch(t,{mode:"cors"});if(!i.ok)return bt(n,"Error getting location from geolocation API, returning {}. Response:",i),null;try{const e=yield i.json();return bt(n,"Got location response from geolocation API, returning:",e),e}catch{return bt(n,"Error parsing response body from geolocation API, returning {}. Response:",i),null}}));var gn=Object.defineProperty,vn=Object.defineProperties,hn=Object.getOwnPropertyDescriptors,bn=Object.getOwnPropertySymbols,mn=Object.prototype.hasOwnProperty,yn=Object.prototype.propertyIsEnumerable,_n=(e,t,n)=>t in e?gn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wn=(e,t)=>{for(var n in t||(t={}))mn.call(t,n)&&_n(e,n,t[n]);if(bn)for(var n of bn(t))yn.call(t,n)&&_n(e,n,t[n]);return e},xn=(e,t)=>vn(e,hn(t));const Cn=(e,t,n,i)=>{if(typeof window<"u"&&typeof CustomEvent<"u"){const o=new CustomEvent(e,{detail:xn(wn({},t),{debug:n,extraDetails:i})});bt(n,`Dispatching event type ${e} ${null!=i&&i.servingComponent?`from ${i.servingComponent} `:""}with cookie ${JSON.stringify(t)} ${null!=i&&i.consentMethod?`using consent method ${i.consentMethod} `:""}`),window.dispatchEvent(o)}};var En=Object.defineProperty,On=Object.getOwnPropertySymbols,In=Object.prototype.hasOwnProperty,Sn=Object.prototype.propertyIsEnumerable,Pn=(e,t,n)=>t in e?En(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kn=(e,t,n)=>new Promise(((i,o)=>{var r=e=>{try{a(n.next(e))}catch(e){o(e)}},s=e=>{try{a(n.throw(e))}catch(e){o(e)}},a=e=>e.done?i(e.value):Promise.resolve(e.value).then(r,s);a((n=n.apply(e,t)).next())}));function Ln(e,t,n,i,o,r,s){return kn(this,null,(function*(){bt(e.debug,"Saving preferences to Fides API");const a=o?.map((e=>({privacy_notice_history_id:e.notice.privacy_notice_history_id,preference:e.consentPreference,served_notice_history_id:e.servedNoticeHistoryId}))),d=((e,t)=>{for(var n in t||(t={}))In.call(t,n)&&Pn(e,n,t[n]);if(On)for(var n of On(t))Sn.call(t,n)&&Pn(e,n,t[n]);return e})({browser_identity:t.identity,preferences:a,privacy_experience_id:n.id,user_geography:s,method:i},r??[]);yield((e,t,n,i,o)=>cn(void 0,null,(function*(){var r;if(bt(n.debug,"Saving user consent preference...",t),null!=(r=n.apiOptions)&&r.savePreferencesFn){bt(n.debug,"Calling custom save preferences fn");try{yield n.apiOptions.savePreferencesFn(e,i.consent,i.fides_string,o)}catch(e){return bt(n.debug,"Error saving preferences to custom API, continuing. Error: ",e),Promise.reject(e)}return Promise.resolve()}bt(n.debug,"Calling Fides save preferences API");const s=ln(dn({},un),{body:JSON.stringify(t)}),a=yield fetch(`${n.fidesApiUrl}/privacy-preferences`,s);return a.ok||bt(n.debug,"Error patching user preference Fides API. Response:",a),Promise.resolve()})))(i,d,e,t,n)}))}const Tn=e=>kn(void 0,[e],(function*({consentPreferencesToSave:e,experience:t,consentMethod:n,options:i,userLocationString:o,cookie:r,tcf:s,updateCookie:a}){const d={consentMethod:n},l=yield a(r);if(Object.assign(r,l),Object.assign(r.fides_meta,d),bt(i.debug,"Updating window.Fides"),window.Fides.consent=r.consent,window.Fides.fides_string=r.fides_string,window.Fides.tcf_consent=r.tcf_consent,!i.fidesDisableSaveApi)try{yield Ln(i,r,t,n,e,s,o)}catch(e){bt(i.debug,"Error saving updated preferences to API, continuing. Error: ",e)}bt(i.debug,"Saving preferences to cookie"),Yt(r),e&&e.filter((e=>e.consentPreference===Y.OPT_OUT)).forEach((e=>{Zt(e.notice.cookies)})),Cn("FidesUpdated",r,i.debug,d)}));var An=(e,t,n)=>new Promise(((i,o)=>{var r=e=>{try{a(n.next(e))}catch(e){o(e)}},s=e=>{try{a(n.throw(e))}catch(e){o(e)}},a=e=>e.done?i(e.value):Promise.resolve(e.value).then(r,s);a((n=n.apply(e,t)).next())}));const Nn=e=>An(void 0,[e],(function*({experience:e,fidesRegionString:t,cookie:n,options:i,renderOverlay:o}){function r(){return An(this,null,(function*(){try{let r;if(bt(i.debug,"Rendering Fides overlay CSS & HTML into the DOM..."),i.fidesEmbed){if(r=document.getElementById("fides-embed-container"),!r)throw new Error("Element with id fides-embed-container could not be found.")}else{const e=i.overlayParentId||"fides-overlay";r=document.getElementById(e),r||(bt(i.debug,`Parent element not found (#${e}), creating and appending to body...`),r=document.createElement("div"),r.id=e,document.body.prepend(r))}return(e.component===W.OVERLAY||e.component===W.TCF_OVERLAY)&&(o({experience:e,fidesRegionString:t,cookie:n,options:i},r),bt(i.debug,"Fides overlay is now showing!")),yield Promise.resolve()}catch(e){return bt(i.debug,e),Promise.reject(e)}}))}return bt(i.debug,"Initializing Fides consent overlays..."),"complete"!==document?.readyState?(bt(i.debug,"DOM not loaded, adding event listener"),document.addEventListener("readystatechange",(()=>An(void 0,null,(function*(){"complete"===document.readyState&&(bt(i.debug,"DOM fully loaded and parsed"),yield r())}))))):yield r(),Promise.resolve()})),Vn=e=>((e,t,n)=>new Promise(((i,o)=>{var r=e=>{try{a(n.next(e))}catch(e){o(e)}},s=e=>{try{a(n.throw(e))}catch(e){o(e)}},a=e=>e.done?i(e.value):Promise.resolve(e.value).then(r,s);a((n=n.apply(e,t)).next())})))(void 0,[e],(function*({options:e,experience:t}){var n;if(null!=(n=t?.gpp_settings)&&n.enabled)try{yield import(e.gppExtensionPath)}catch(e){console.error("Unable to import GPP extension",e)}}));var Rn=(e,t,n)=>new Promise(((i,o)=>{var r=e=>{try{a(n.next(e))}catch(e){o(e)}},s=e=>{try{a(n.throw(e))}catch(e){o(e)}},a=e=>e.done?i(e.value):Promise.resolve(e.value).then(r,s);a((n=n.apply(e,t)).next())}));const Fn=e=>{const t={};if(typeof window<"u"){const n=new URLSearchParams(window.location.search),i=e.options.customOptionsPath&&e.options.customOptionsPath.split("."),o=i&&i.length>=0?It(i):window.fides_overrides;ht.forEach((({fidesOption:e,fidesOptionType:i,fidesOverrideKey:r,validationRegex:s})=>{const a=n.get(r),d=o?o[r]:void 0,l=Ht(r),c=a||d||l;c&&s.test(c.toString())&&(t[e]="string"===i?c:JSON.parse(c.toString()))}))}return t},Dn=({consent:e,options:t})=>{const n=Ze(),i=Jt(e,n,t.debug);return Kt(i,t.debug)},jn=({cookie:e,experience:t,geolocation:n,options:i,updateExperienceFromCookieConsent:o})=>{if(Bt(e)&&!i.fidesString)return null;let r=t;return mt(t)&&(r=o({experience:t,cookie:e,debug:i.debug})),{consent:e.consent,fides_meta:e.fides_meta,identity:e.identity,experience:r,tcf_consent:e.tcf_consent,fides_string:e.fides_string,geolocation:n,options:i,initialized:!0}},Un=e=>Rn(void 0,[e],(function*({cookie:e,options:t,experience:n,geolocation:i,renderOverlay:o,updateCookieAndExperience:r}){let s=t.isOverlayEnabled,a=n,d=null;if(s){xt(t)||(bt(t.debug,"Invalid overlay options. Skipping overlay initialization.",t),s=!1),d=yield((e,t)=>Rn(void 0,null,(function*(){return yt(e)||yt(yield fn(t.isGeolocationEnabled,t.geolocationApiUrl,t.debug))})))(i,t);let n=!1;if(d?mt(a)||(n=!0,a=yield((e,t,n,i,o)=>cn(void 0,null,(function*(){var r;if(bt(n,`Fetching experience for userId: ${o} in location: ${e}`),null!=i&&i.getPrivacyExperienceFn){bt(n,"Calling custom fetch experience fn");try{return yield i.getPrivacyExperienceFn(e,o)}catch(e){return bt(n,"Error fetching experience from custom API, returning {}. Error: ",e),{}}}bt(n,"Calling Fides GET experience API");let s={show_disabled:"false",region:e,component:W.OVERLAY,has_notices:"true",has_config:"true",systems_applicable:"true",include_gvl:"true",include_meta:"true"};o&&(s.fides_user_device_id=o),s=new URLSearchParams(s);const a=yield fetch(`${t}/privacy-experience?${s}`,{method:"GET",mode:"cors",headers:[["Unescape-Safestr","true"]]});if(!a.ok)return bt(n,"Error getting experience from Fides API, returning {}. Response:",a),{};try{const e=yield a.json(),t=null!=(r=e.items&&e.items[0])?r:{};return bt(n,"Got experience response from Fides API, returning: ",t),t}catch{return bt(n,"Error parsing experience response body from Fides API, returning {}. Response:",a),{}}})))(d,t.fidesApiUrl,t.debug,t.apiOptions,e.identity.fides_user_device_id)):(bt(t.debug,"User location could not be obtained. Skipping overlay initialization."),s=!1),mt(a)&&Ct(a,t)){const i=yield r({cookie:e,experience:a,debug:t.debug,isExperienceClientSideFetched:n});bt(t.debug,"Updated cookie and experience",i),Object.assign(e,i.cookie),Object.assign(a,i.experience),s&&(yield Nn({experience:a,fidesRegionString:d,cookie:e,options:t,renderOverlay:o}).catch((()=>{})))}}return s&&mt(a)&&(({cookie:e,fidesRegionString:t,effectiveExperience:n,fidesOptions:i})=>{if(!n||!n.privacy_notices)return;const o=Ze();if(!o.globalPrivacyControl)return;let r=!1;const s=n.privacy_notices.map((e=>e.has_gpc_flag&&!e.current_preference&&e.consent_mechanism!==K.NOTICE_ONLY?(r=!0,new M(e,wt(!1,e.consent_mechanism))):new M(e,wt(kt(e,o),e.consent_mechanism))));r&&Tn({consentPreferencesToSave:s,experience:n,consentMethod:J.GPC,options:i,userLocationString:t||void 0,cookie:e,updateCookie:e=>Xt(e,s)})})({cookie:e,fidesRegionString:d,effectiveExperience:a,fidesOptions:t}),yield Vn({options:t,experience:a}),{consent:e.consent,fides_meta:e.fides_meta,identity:e.identity,fides_string:e.fides_string,tcf_consent:e.tcf_consent,experience:a,geolocation:i,options:t,initialized:!0}}));var Mn,$n,zn,Bn,Gn,Hn,Kn,Yn={},Wn=[],qn=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Qn=Array.isArray;function Jn(e,t){for(var n in t)e[n]=t[n];return e}function Zn(e){var t=e.parentNode;t&&t.removeChild(e)}function Xn(e,t,n){var i,o,r,s={};for(r in t)"key"==r?i=t[r]:"ref"==r?o=t[r]:s[r]=t[r];if(arguments.length>2&&(s.children=arguments.length>3?Mn.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===s[r]&&(s[r]=e.defaultProps[r]);return ei(e,s,i,o,null)}function ei(e,t,n,i,o){var r={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o??++zn};return null==o&&null!=$n.vnode&&$n.vnode(r),r}function ti(e){return e.children}function ni(e,t){this.props=e,this.context=t}function ii(e,t){if(null==t)return e.__?ii(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?ii(e):null}function oi(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return oi(e)}}function ri(e){(!e.__d&&(e.__d=!0)&&Bn.push(e)&&!si.__r++||Gn!==$n.debounceRendering)&&((Gn=$n.debounceRendering)||Hn)(si)}function si(){var e,t,n,i,o,r,s,a;for(Bn.sort(Kn);e=Bn.shift();)e.__d&&(t=Bn.length,i=void 0,o=void 0,s=(r=(n=e).__v).__e,(a=n.__P)&&(i=[],(o=Jn({},r)).__v=r.__v+1,vi(a,r,o,n.__n,void 0!==a.ownerSVGElement,null!=r.__h?[s]:null,i,s??ii(r),r.__h),hi(i,r),r.__e!=s&&oi(r)),Bn.length>t&&Bn.sort(Kn));si.__r=0}function ai(e,t,n,i,o,r,s,a,d,l){var c,p,u,f,g,v,h,b=i&&i.__k||Wn,m=b.length;for(n.__k=[],c=0;c<t.length;c++)if(null!=(f=n.__k[c]=null==(f=t[c])||"boolean"==typeof f||"function"==typeof f?null:"string"==typeof f||"number"==typeof f||"bigint"==typeof f?ei(null,f,null,null,f):Qn(f)?ei(ti,{children:f},null,null,null):f.__b>0?ei(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)){if(f.__=n,f.__b=n.__b+1,null===(u=b[c])||u&&f.key==u.key&&f.type===u.type)b[c]=void 0;else for(p=0;p<m;p++){if((u=b[p])&&f.key==u.key&&f.type===u.type){b[p]=void 0;break}u=null}vi(e,f,u=u||Yn,o,r,s,a,d,l),g=f.__e,(p=f.ref)&&u.ref!=p&&(h||(h=[]),u.ref&&h.push(u.ref,null,f),h.push(p,f.__c||g,f)),null!=g?(null==v&&(v=g),"function"==typeof f.type&&f.__k===u.__k?f.__d=d=di(f,d,e):d=li(e,f,u,b,g,d),"function"==typeof n.type&&(n.__d=d)):d&&u.__e==d&&d.parentNode!=e&&(d=ii(u))}for(n.__e=v,c=m;c--;)null!=b[c]&&("function"==typeof n.type&&null!=b[c].__e&&b[c].__e==n.__d&&(n.__d=ci(i).nextSibling),mi(b[c],b[c]));if(h)for(c=0;c<h.length;c++)bi(h[c],h[++c],h[++c])}function di(e,t,n){for(var i,o=e.__k,r=0;o&&r<o.length;r++)(i=o[r])&&(i.__=e,t="function"==typeof i.type?di(i,t,n):li(n,i,i,o,i.__e,t));return t}function li(e,t,n,i,o,r){var s,a,d;if(void 0!==t.__d)s=t.__d,t.__d=void 0;else if(null==n||o!=r||null==o.parentNode)e:if(null==r||r.parentNode!==e)e.appendChild(o),s=null;else{for(a=r,d=0;(a=a.nextSibling)&&d<i.length;d+=1)if(a==o)break e;e.insertBefore(o,r),s=r}return void 0!==s?s:o.nextSibling}function ci(e){var t,n,i;if(null==e.type||"string"==typeof e.type)return e.__e;if(e.__k)for(t=e.__k.length-1;t>=0;t--)if((n=e.__k[t])&&(i=ci(n)))return i;return null}function pi(e,t,n){"-"===t[0]?e.setProperty(t,n??""):e[t]=null==n?"":"number"!=typeof n||qn.test(t)?n:n+"px"}function ui(e,t,n,i,o){var r;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof i&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||pi(e.style,t,"");if(n)for(t in n)i&&n[t]===i[t]||pi(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])r=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=n,n?i||e.addEventListener(t,r?gi:fi,r):e.removeEventListener(t,r?gi:fi,r);else if("dangerouslySetInnerHTML"!==t){if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&t in e)try{e[t]=n??"";break e}catch{}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n))}}function fi(e){return this.l[e.type+!1]($n.event?$n.event(e):e)}function gi(e){return this.l[e.type+!0]($n.event?$n.event(e):e)}function vi(e,t,n,i,o,r,s,a,d){var l,c,p,u,f,g,v,h,b,m,y,_,w,x,C,E=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(d=n.__h,a=t.__e=n.__e,t.__h=null,r=[a]),(l=$n.__b)&&l(t);try{e:if("function"==typeof E){if(h=t.props,b=(l=E.contextType)&&i[l.__c],m=l?b?b.props.value:l.__:i,n.__c?v=(c=t.__c=n.__c).__=c.__E:("prototype"in E&&E.prototype.render?t.__c=c=new E(h,m):(t.__c=c=new ni(h,m),c.constructor=E,c.render=yi),b&&b.sub(c),c.props=h,c.state||(c.state={}),c.context=m,c.__n=i,p=c.__d=!0,c.__h=[],c._sb=[]),null==c.__s&&(c.__s=c.state),null!=E.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=Jn({},c.__s)),Jn(c.__s,E.getDerivedStateFromProps(h,c.__s))),u=c.props,f=c.state,c.__v=t,p)null==E.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==E.getDerivedStateFromProps&&h!==u&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(h,m),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(h,c.__s,m)||t.__v===n.__v){for(t.__v!==n.__v&&(c.props=h,c.state=c.__s,c.__d=!1),c.__e=!1,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),y=0;y<c._sb.length;y++)c.__h.push(c._sb[y]);c._sb=[],c.__h.length&&s.push(c);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(h,c.__s,m),null!=c.componentDidUpdate&&c.__h.push((function(){c.componentDidUpdate(u,f,g)}))}if(c.context=m,c.props=h,c.__P=e,_=$n.__r,w=0,"prototype"in E&&E.prototype.render){for(c.state=c.__s,c.__d=!1,_&&_(t),l=c.render(c.props,c.state,c.context),x=0;x<c._sb.length;x++)c.__h.push(c._sb[x]);c._sb=[]}else do{c.__d=!1,_&&_(t),l=c.render(c.props,c.state,c.context),c.state=c.__s}while(c.__d&&++w<25);c.state=c.__s,null!=c.getChildContext&&(i=Jn(Jn({},i),c.getChildContext())),p||null==c.getSnapshotBeforeUpdate||(g=c.getSnapshotBeforeUpdate(u,f)),ai(e,Qn(C=null!=l&&l.type===ti&&null==l.key?l.props.children:l)?C:[C],t,n,i,o,r,s,a,d),c.base=t.__e,t.__h=null,c.__h.length&&s.push(c),v&&(c.__E=c.__=null),c.__e=!1}else null==r&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,i,o,r,s,a){var d,l,c,p=n.props,u=t.props,f=t.type,g=0;if("svg"===f&&(o=!0),null!=r)for(;g<r.length;g++)if((d=r[g])&&"setAttribute"in d==!!f&&(f?d.localName===f:3===d.nodeType)){e=d,r[g]=null;break}if(null==e){if(null===f)return document.createTextNode(u);e=o?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,u.is&&u),r=null,a=!1}if(null===f)p===u||a&&e.data===u||(e.data=u);else{if(r=r&&Mn.call(e.childNodes),l=(p=n.props||Yn).dangerouslySetInnerHTML,c=u.dangerouslySetInnerHTML,!a){if(null!=r)for(p={},g=0;g<e.attributes.length;g++)p[e.attributes[g].name]=e.attributes[g].value;(c||l)&&(c&&(l&&c.__html==l.__html||c.__html===e.innerHTML)||(e.innerHTML=c&&c.__html||""))}if(function(e,t,n,i,o){var r;for(r in n)"children"===r||"key"===r||r in t||ui(e,r,null,n[r],i);for(r in t)o&&"function"!=typeof t[r]||"children"===r||"key"===r||"value"===r||"checked"===r||n[r]===t[r]||ui(e,r,t[r],n[r],i)}(e,u,p,o,a),c)t.__k=[];else if(ai(e,Qn(g=t.props.children)?g:[g],t,n,i,o&&"foreignObject"!==f,r,s,r?r[0]:n.__k&&ii(n,0),a),null!=r)for(g=r.length;g--;)null!=r[g]&&Zn(r[g]);a||("value"in u&&void 0!==(g=u.value)&&(g!==e.value||"progress"===f&&!g||"option"===f&&g!==p.value)&&ui(e,"value",g,p.value,!1),"checked"in u&&void 0!==(g=u.checked)&&g!==e.checked&&ui(e,"checked",g,p.checked,!1))}return e}(n.__e,t,n,i,o,r,s,d);(l=$n.diffed)&&l(t)}catch(e){t.__v=null,(d||null!=r)&&(t.__e=a,t.__h=!!d,r[r.indexOf(a)]=null),$n.__e(e,t,n)}}function hi(e,t){$n.__c&&$n.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){$n.__e(e,t.__v)}}))}function bi(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){$n.__e(e,n)}}function mi(e,t,n){var i,o;if($n.unmount&&$n.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||bi(i,null,t)),null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){$n.__e(e,t)}i.base=i.__P=null,e.__c=void 0}if(i=e.__k)for(o=0;o<i.length;o++)i[o]&&mi(i[o],t,n||"function"!=typeof e.type);n||null==e.__e||Zn(e.__e),e.__=e.__e=e.__d=void 0}function yi(e,t,n){return this.constructor(e,n)}function _i(e,t,n){var i,o,r;$n.__&&$n.__(e,t),o=(i="function"==typeof n)?null:n&&n.__k||t.__k,r=[],vi(t,e=(!i&&n||t).__k=Xn(ti,null,[e]),o||Yn,Yn,void 0!==t.ownerSVGElement,!i&&n?[n]:o?null:t.firstChild?Mn.call(t.childNodes):null,r,!i&&n?n:o?o.__e:t.firstChild,i),hi(r,e)}Mn=Wn.slice,$n={__e:function(e,t,n,i){for(var o,r,s;t=t.__;)if((o=t.__c)&&!o.__)try{if((r=o.constructor)&&null!=r.getDerivedStateFromError&&(o.setState(r.getDerivedStateFromError(e)),s=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,i||{}),s=o.__d),s)return o.__E=o}catch(t){e=t}throw e}},zn=0,ni.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Jn({},this.state),"function"==typeof e&&(e=e(Jn({},n),this.props)),e&&Jn(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),ri(this))},ni.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ri(this))},ni.prototype.render=ti,Bn=[],Hn="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Kn=function(e,t){return e.__v.__b-t.__v.__b},si.__r=0;var wi,xi,Ci,Ei,Oi=0,Ii=[],Si=[],Pi=$n.__b,ki=$n.__r,Li=$n.diffed,Ti=$n.__c,Ai=$n.unmount;function Ni(e,t){$n.__h&&$n.__h(xi,e,Oi||t),Oi=0;var n=xi.__H||(xi.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:Si}),n.__[e]}function Vi(e){return Oi=1,function(e,t,n){var i=Ni(wi++,2);if(i.t=e,!i.__c&&(i.__=[n?n(t):Hi(void 0,t),function(e){var t=i.__N?i.__N[0]:i.__[0],n=i.t(t,e);t!==n&&(i.__N=[n,i.__[1]],i.__c.setState({}))}],i.__c=xi,!xi.u)){var o=function(e,t,n){if(!i.__c.__H)return!0;var o=i.__c.__H.__.filter((function(e){return e.__c}));if(o.every((function(e){return!e.__N})))return!r||r.call(this,e,t,n);var s=!1;return o.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(s=!0)}})),!(!s&&i.__c.props===e)&&(!r||r.call(this,e,t,n))};xi.u=!0;var r=xi.shouldComponentUpdate,s=xi.componentWillUpdate;xi.componentWillUpdate=function(e,t,n){if(this.__e){var i=r;r=void 0,o(e,t,n),r=i}s&&s.call(this,e,t,n)},xi.shouldComponentUpdate=o}return i.__N||i.__}(Hi,e)}function Ri(e,t){var n=Ni(wi++,3);!$n.__s&&Gi(n.__H,t)&&(n.__=e,n.i=t,xi.__H.__h.push(n))}function Fi(e){return Oi=5,Di((function(){return{current:e}}),[])}function Di(e,t){var n=Ni(wi++,7);return Gi(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function ji(e,t){return Oi=8,Di((function(){return e}),t)}function Ui(){for(var e;e=Ii.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(zi),e.__H.__h.forEach(Bi),e.__H.__h=[]}catch(t){e.__H.__h=[],$n.__e(t,e.__v)}}$n.__b=function(e){xi=null,Pi&&Pi(e)},$n.__r=function(e){ki&&ki(e),wi=0;var t=(xi=e.__c).__H;t&&(Ci===xi?(t.__h=[],xi.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=Si,e.__N=e.i=void 0}))):(t.__h.forEach(zi),t.__h.forEach(Bi),t.__h=[],wi=0)),Ci=xi},$n.diffed=function(e){Li&&Li(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==Ii.push(t)&&Ei===$n.requestAnimationFrame||((Ei=$n.requestAnimationFrame)||$i)(Ui)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==Si&&(e.__=e.__V),e.i=void 0,e.__V=Si}))),Ci=xi=null},$n.__c=function(e,t){t.some((function(e){try{e.__h.forEach(zi),e.__h=e.__h.filter((function(e){return!e.__||Bi(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],$n.__e(n,e.__v)}})),Ti&&Ti(e,t)},$n.unmount=function(e){Ai&&Ai(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{zi(e)}catch(e){t=e}})),n.__H=void 0,t&&$n.__e(t,n.__v))};var Mi="function"==typeof requestAnimationFrame;function $i(e){var t,n=function(){clearTimeout(i),Mi&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);Mi&&(t=requestAnimationFrame(n))}function zi(e){var t=xi,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),xi=t}function Bi(e){var t=xi;e.__c=e.__(),xi=t}function Gi(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function Hi(e,t){return"function"==typeof t?t(e):t}const Ki=({onClick:e,ariaLabel:t,hidden:n=!1})=>Xn("button",{type:"button","aria-label":t,className:"fides-close-button",onClick:e,style:{visibility:n?"hidden":"visible"}},Xn("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none"},Xn("path",{fill:"#2D3748",d:"m8 7.057 3.3-3.3.943.943-3.3 3.3 3.3 3.3-.943.943-3.3-3.3-3.3 3.3-.943-.943 3.3-3.3-3.3-3.3.943-.943 3.3 3.3Z"}))),Yi=({label:e,status:t})=>Xn("span",{className:"fides-gpc-label"},e," ",Xn("span",{className:`fides-gpc-badge fides-gpc-badge-${t}`},t)),Wi=({value:e,notice:t})=>{const n=Ze(),i=St({value:e,notice:t,consentContext:n});return i===X.NONE?null:Xn(Yi,{label:"Global Privacy Control",status:i.valueOf()})},qi="vendors page.",Qi=({description:e,onVendorPageClick:t,allowHTMLDescription:n=!1})=>e?n?Xn("div",{className:"fides-html-description",dangerouslySetInnerHTML:{__html:e}}):t&&(e.endsWith(qi)||e.endsWith(`${qi}\n`))?Xn("div",null,e.split(qi)[0]," ",Xn("button",{type:"button",className:"fides-link-button",onClick:t},qi)):Xn("div",null,e):null,Ji=({experience:e,onOpen:t,onClose:n,bannerIsOpen:i,children:o,onVendorPageClick:r,renderButtonGroup:s,className:a})=>{var d,l,c,p;const u=Fi(null),[f,g]=Vi(window.innerWidth<768);Ri((()=>{const e=()=>{g(window.innerWidth<768)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),Ri((()=>{var e,t;const o=e=>{u.current&&!u.current.contains(e.target)&&n()},r=e=>{"Escape"===e.key&&n()};return!i||null!=(t=null==(e=window.Fides)?void 0:e.options)&&t.preventDismissal?(window.removeEventListener("mousedown",o),window.removeEventListener("keydown",r)):(window.addEventListener("mousedown",o),window.addEventListener("keydown",r)),()=>{window.removeEventListener("mousedown",o),window.removeEventListener("keydown",r)}}),[n,i,u]);const v=Ze().globalPrivacyControl;Ri((()=>{i&&t()}),[i,t]);const h=e.banner_description||e.description,b=e.banner_title||e.title;return Xn("div",{id:"fides-banner-container",className:`fides-banner fides-banner-bottom \n        ${i?"":"fides-banner-hidden"} \n        ${a||""}`,ref:u},Xn("div",{id:"fides-banner"},Xn("div",{id:"fides-banner-inner"},Xn(Ki,{ariaLabel:"Close banner",onClick:n,hidden:null==(l=null==(d=window.Fides)?void 0:d.options)?void 0:l.preventDismissal}),Xn("div",{id:"fides-banner-inner-container",style:{gridTemplateColumns:o?"1fr 1fr":"1fr"}},Xn("div",{id:"fides-banner-inner-description"},Xn("div",{id:"fides-banner-heading"},Xn("div",{id:"fides-banner-title",className:"fides-banner-title"},b),v&&Xn(Yi,{label:"Global Privacy Control Signal",status:"detected"})),Xn("div",{id:"fides-banner-description",className:"fides-banner-description"},Xn(Qi,{description:h,onVendorPageClick:r,allowHTMLDescription:null==(p=null==(c=window.Fides)?void 0:c.options)?void 0:p.allowHTMLDescription}))),o,!f&&s({isMobile:f})),f&&s({isMobile:f}))))};!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(':root{--fides-overlay-primary-color:#8243f2;--fides-overlay-background-color:#f7fafc;--fides-overlay-embed-background-color:transparent;--fides-overlay-font-color:#4a5568;--fides-overlay-font-color-dark:#2d3748;--fides-overlay-hover-color:#edf2f7;--fides-overlay-gpc-applied-background-color:#38a169;--fides-overlay-gpc-applied-text-color:#fff;--fides-overlay-gpc-overridden-background-color:#e53e3e;--fides-overlay-gpc-overridden-text-color:#fff;--fides-overlay-background-dark-color:#e2e8f0;--fides-overlay-width:680px;--fides-overlay-primary-button-background-color:var(\n    --fides-overlay-primary-color\n  );--fides-overlay-primary-button-background-hover-color:#9569f4;--fides-overlay-primary-button-text-color:#fff;--fides-overlay-primary-button-border-color:transparent;--fides-overlay-secondary-button-background-color:var(\n    --fides-overlay-background-color\n  );--fides-overlay-secondary-button-background-hover-color:var(\n    --fides-overlay-hover-color\n  );--fides-overlay-secondary-button-text-color:#2d3748;--fides-overlay-secondary-button-border-color:var(\n    --fides-overlay-primary-color\n  );--fides-overlay-title-font-color:var(--fides-overlay-font-color);--fides-overlay-body-font-color:var(--fides-overlay-font-color);--fides-overlay-link-font-color:var(--fides-overlay-font-color-dark);--fides-overlay-primary-active-color:var(--fides-overlay-primary-color);--fides-overlay-primary-active-disabled-color:#bda4f7;--fides-overlay-inactive-color:#e2e8f0;--fides-overlay-inactive-font-color:#a0aec0;--fides-overlay-disabled-color:#e1e7ee;--fides-overlay-row-divider-color:#e2e8f0;--fides-overlay-row-hover-color:var(--fides-overlay-hover-color);--fides-overlay-badge-background-color:#718096;--fides-overlay-badge-border-radius:4px;--fides-overlay-select-border-color:#e2e8f0;--fides-overlay-font-family:Inter,sans-serif;--12px:0.75rem;--14px:0.875rem;--15px:0.9375rem;--16px:1rem;--fides-overlay-font-size-body-small:var(--12px);--fides-overlay-font-size-body:var(--14px);--fides-overlay-font-size-title:var(--16px);--fides-overlay-font-size-buttons:var(--14px);--fides-overlay-padding:24px;--fides-overlay-button-border-radius:6px;--fides-overlay-button-padding:8px 16px;--fides-overlay-container-border-radius:12px;--fides-overlay-component-border-radius:4px;--fides-overlay-banner-offset:48px;--fides-banner-font-size-title:var(--16px)}div#fides-overlay{-webkit-font-smoothing:antialiased;font-family:var(--fides-overlay-font-family);font-size:var(--fides-overlay-font-size-body);line-height:calc(1em + .4rem);position:fixed;white-space:pre-line;z-index:1000}#fides-modal-link{cursor:pointer;display:none}#fides-modal-link.fides-modal-link-shown{display:inline}div#fides-banner-container{display:flex;justify-content:center;position:fixed;transform:translateY(0);transition:transform 1s,visibility 1s;visibility:visible;width:100%;z-index:1}div#fides-banner{align-items:center;background:var(--fides-overlay-background-color);border-top:1px solid var(--fides-overlay-primary-color);box-sizing:border-box;color:var(--fides-overlay-body-font-color);display:flex;flex-direction:row;flex-wrap:wrap;font-size:var(--fides-overlay-font-size-body);justify-content:space-between;overflow-y:hidden;padding:24px;position:relative}div#fides-banner-inner{width:100%}div#fides-banner-container.fides-banner-bottom{bottom:0;left:0}div#fides-banner-container.fides-banner-bottom.fides-banner-hidden{transform:translateY(150%);visibility:hidden}div#fides-banner-container.fides-banner-top{left:0;top:0}div#fides-banner-container.fides-banner-top.fides-banner-hidden{transform:translateY(-150%);visibility:hidden}div#fides-banner-inner div#fides-button-group{margin-bottom:0;margin-top:0;padding-bottom:0;padding-top:0;width:100%}div#fides-banner-inner-container{grid-column-gap:60px;display:grid;grid-template-columns:1fr 1fr;.fides-acknowledge-button-container{margin-bottom:0}}div#fides-banner-inner-description{grid-column:1;grid-row:1}div#fides-tcf-banner-inner{grid-column:2;grid-row:1/3;height:0;margin-top:40px;min-height:100%;overflow-y:auto;scrollbar-gutter:stable}div#fides-banner-heading{align-items:center;display:flex;margin-right:13px}div#fides-banner-title{color:var(--fides-overlay-title-font-color);flex:1;font-size:var(--fides-banner-font-size-title);font-weight:600;line-height:1.5em;min-width:33%}div#fides-banner-description{flex:1;font-size:var(--fides-overlay-font-size-body);margin-bottom:24px;margin-top:16px}div.fides-html-description{white-space:normal}div#fides-button-group{background-color:var(--fides-overlay-background-color);display:flex;justify-content:space-between;margin-bottom:var(--fides-overlay-padding);margin-top:8px;z-index:5}div.fides-acknowledge-button-container{display:flex;justify-content:end;margin-inline:var(--fides-overlay-padding);margin-bottom:var(--fides-overlay-padding)}div.fides-banner-acknowledge .fides-banner-button{max-width:168px}button.fides-banner-button{background:var(--fides-overlay-primary-button-background-color);border:1px solid;border-radius:var(--fides-overlay-button-border-radius);color:var(--fides-overlay-primary-button-text-color);cursor:pointer;display:inline-block;flex:auto;font-family:var(--fides-overlay-font-family);font-size:var(--fides-overlay-font-size-buttons);font-weight:600;margin:4px 0 0;padding:var(--fides-overlay-button-padding);text-align:center;text-decoration:none}button.fides-banner-button:hover{background:var(--fides-overlay-primary-button-background-hover-color)}button.fides-banner-button.fides-banner-button-primary{background:var(--fides-overlay-primary-button-background-color);border:none;color:var(--fides-overlay-primary-button-text-color)}button.fides-banner-button.fides-banner-button-primary:hover{background:var(--fides-overlay-primary-button-background-hover-color)}button.fides-banner-button.fides-banner-button-secondary{background:var(--fides-overlay-secondary-button-background-color);border:1px solid var(--fides-overlay-primary-button-background-color);color:var(--fides-overlay-secondary-button-text-color)}button.fides-banner-button.fides-banner-button-secondary:hover{background:var(--fides-overlay-secondary-button-background-hover-color)}button.fides-banner-button.fides-banner-button-tertiary{background:none;border:none;color:var(--fides-overlay-link-font-color);cursor:pointer;font-size:var(--fides-overlay-font-size-body);font-weight:500;line-height:1.25em;padding:0;text-decoration:underline}div.fides-modal-content{background-color:var(--fides-overlay-background-color);border:1px solid var(--fides-overlay-primary-color);border-radius:var(--fides-overlay-container-border-radius);box-sizing:border-box;color:var(--fides-overlay-body-font-color);display:flex;flex-direction:column;font-family:var(--fides-overlay-font-family);font-size:var(--fides-overlay-font-size-body);left:50%;max-height:680px;overflow:hidden;padding:0;position:fixed;top:50%;transform:translate(-50%,-50%);width:var(--fides-overlay-width);z-index:2}.fides-modal-container,.fides-modal-overlay{background-color:rgba(0,0,0,.25);bottom:0;left:0;position:fixed;right:0;top:0}div#fides-embed-container div#fides-consent-content .fides-modal-footer{position:inherit}div#fides-embed-container .fides-modal-body{padding-top:16px}div#fides-embed-container div#fides-consent-content{background-color:var(--fides-overlay-background-color);border:none;border-radius:var(--fides-overlay-container-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;box-sizing:border-box;color:var(--fides-overlay-body-font-color);display:flex;flex-direction:column;font-family:var(--fides-overlay-font-family);font-size:var(--fides-overlay-font-size-body);left:50%;max-height:none;overflow:hidden;padding:0;position:static;top:50%;transform:none;width:var(--fides-overlay-width)}.fides-modal-container{display:flex;z-index:2}.fides-modal-container[aria-hidden=true]{display:none}div#fides-modal .fides-modal-header{display:flex;justify-content:end}div#fides-consent-content{overflow:auto;scrollbar-gutter:stable}div#fides-consent-content .fides-modal-title{color:var(--fides-overlay-title-font-color);font-size:var(--fides-overlay-font-size-title);font-weight:600;margin:0;text-align:center}div#fides-consent-content .fides-modal-body{height:100%;overflow-y:auto;padding-inline:var(--fides-overlay-padding)}.fides-modal-footer{background-color:var(--fides-overlay-background-color);border-bottom-left-radius:var(--fides-overlay-component-border-radius);border-bottom-right-radius:var(--fides-overlay-component-border-radius);bottom:0;display:flex;flex-direction:column;width:var(--fides-overlay-width);z-index:5}div#fides-consent-content .fides-modal-description{margin:8px 0 24px}.fides-banner-button-group{display:flex;gap:12px}.fides-modal-button-group{display:flex;flex-direction:row;gap:12px;margin-inline:var(--fides-overlay-padding);width:100%}.fides-tcf-banner-container div#fides-banner div#fides-banner-inner div#fides-button-group{gap:12px}@media (max-width:48em){div#fides-consent-content,div.fides-modal-content{width:100%!important}.fides-modal-button-group{flex-direction:column}button.fides-banner-button{margin:0 8px 12px 0}}div#fides-banner .fides-close-button{background:none;border:none;cursor:pointer;display:flex;position:absolute;right:3px;top:8px}.fides-modal-header .fides-close-button{background:none;border:none;cursor:pointer;padding-right:8px;padding-top:8px}.fides-close-button:hover{background:var(--fides-overlay-hover-color)}.fides-modal-notices{margin-bottom:16px}div#fides-banner-inner .fides-privacy-policy{margin-bottom:0}.fides-privacy-policy,div#fides-banner-inner .fides-privacy-policy{color:var(--fides-overlay-primary-color);display:block;text-align:center}.fides-privacy-policy{font-family:var(--fides-overlay-font-family);margin-bottom:var(--fides-overlay-padding)}@media (prefers-reduced-motion:reduce){.fides-toggle-display{transition-duration:0ms}}.fides-toggle{align-items:center;display:inline-flex;flex-wrap:wrap;gap:1ch;position:relative}.fides-toggle .fides-toggle-input{cursor:pointer;height:100%;opacity:0;position:absolute;width:100%;z-index:4}.fides-toggle .fides-toggle-display{--offset:4px;--diameter:16px;align-items:center;background-color:var(--fides-overlay-inactive-color);border-radius:100vw;box-sizing:content-box;color:var(--fides-overlay-inactive-font-color);display:inline-flex!important;height:24px;justify-content:space-around;justify-content:end;padding-inline:8px;position:relative;transition:.25s;width:34px}.fides-toggle .fides-toggle-display:before{background-color:#fff;border-radius:50%;box-shadow:0 1.3px 2.7px rgba(0,0,0,.25);box-sizing:border-box;content:"";height:var(--diameter);left:var(--offset);position:absolute;top:50%;transform:translateY(-50%);transition:inherit;width:var(--diameter);z-index:3}.fides-toggle .fides-toggle-input:checked+.fides-toggle-display{background-color:var(--fides-overlay-primary-active-color);color:var(--fides-overlay-primary-button-text-color);justify-content:start}.fides-toggle .fides-toggle-input:checked+.fides-toggle-display:before{transform:translate(26px,-50%)}.fides-toggle .fides-toggle-input:disabled{cursor:not-allowed}.fides-toggle .fides-toggle-input:disabled+.fides-toggle-display{background-color:var(--fides-overlay-disabled-color)}.fides-toggle .fides-toggle-input:disabled:checked+.fides-toggle-display{background-color:var(--fides-overlay-primary-active-disabled-color)}.fides-toggle .fides-toggle-input:focus+.fides-toggle-display{outline:1px auto Highlight;outline:1px auto -webkit-focus-ring-color}.fides-toggle .fides-toggle-input:focus:not(:focus-visible)+.fides-toggle-display{outline:0}.fides-divider{border-color:var(--fides-overlay-row-divider-color);border-width:0 0 1px;margin:0}.fides-disclosure-hidden{display:flex;height:0;margin-bottom:0;margin-top:0;overflow:hidden;visibility:hidden}.fides-notice-toggle .fides-notice-toggle-title{align-items:center;border-bottom:1px solid var(--fides-overlay-row-divider-color);display:flex;justify-content:space-between;padding-inline:12px 12px}.fides-notice-toggle .fides-notice-toggle-trigger{align-items:center;display:flex;justify-content:space-between;min-height:40px;width:100%}.fides-notice-toggle .fides-notice-toggle-trigger svg{flex-shrink:0}.fides-notice-toggle .fides-notice-toggle-title:hover{background-color:var(--fides-overlay-row-hover-color);cursor:pointer}#fides-tcf-banner-inner .fides-disclosure-visible{padding:12px}.fides-notice-toggle .fides-disclosure-visible{display:flex;flex-direction:column;gap:12px;overflow:auto;padding:12px}.fides-notice-toggle p{margin:0 0 18px}.fides-notice-toggle p:last-child{margin:0}.fides-notice-toggle-title .fides-flex-center{align-items:center;display:flex;white-space:wrap;width:100%}.fides-notice-toggle-expanded{background-color:var(--fides-overlay-row-hover-color)}.fides-notice-toggle-header{font-weight:600}.fides-record-header{border-bottom:1px solid var(--fides-overlay-row-divider-color);font-weight:600;padding:12px}.fides-gpc-banner{border:1px solid var(--fides-overlay-primary-color);border-radius:var(--fides-overlay-component-border-radius);display:flex;margin-bottom:16px;padding:18px}.fides-gpc-banner p{margin:0}.fides-gpc-warning{color:var(--fides-overlay-primary-color);margin-right:8px}.fides-gpc-header{font-weight:700}.fides-gpc-label{text-wrap:nowrap;font-size:var(--fides-overlay-font-size-body);font-weight:600}.fides-gpc-badge{border-radius:var(--fides-overlay-badge-border-radius);font-weight:700;padding:0 4px;text-transform:uppercase}.fides-gpc-badge-applied,.fides-gpc-badge-detected{background:var(--fides-overlay-gpc-applied-background-color);color:var(--fides-overlay-gpc-applied-text-color)}.fides-gpc-badge-overridden{background:var(--fides-overlay-gpc-overridden-background-color);color:var(--fides-overlay-gpc-overridden-text-color)}.fides-tab-list{display:flex;list-style-type:none;padding:0}.fides-tab-list>li{width:100%}.fides-tab-button{background:none;border-width:0 0 1px;border-bottom:1px solid var(--fides-overlay-row-divider-color);color:var(--fides-overlay-body-font-color);cursor:pointer;font-weight:500;padding:10px 20px;width:100%}.fides-tab-button[aria-selected=true]{border-bottom-width:2px;border-color:var(--fides-overlay-primary-active-color);color:var(--fides-overlay-primary-active-color);font-weight:600}.fides-tab-button::focus-visible{outline:1px auto Highlight;outline:1px auto -webkit-focus-ring-color}.fides-tab-button:focus:not(:focus-visible){outline:0}.fides-notice-badge{align-items:center;background:var(--fides-overlay-badge-background-color);border-radius:var(--fides-overlay-badge-border-radius);color:#fff;display:inline-flex;font-size:var(--fides-overlay-font-size-body-small);font-weight:600;height:18px;margin-right:8px;padding:0 4px;text-transform:uppercase}.fides-background-dark{background-color:var(--fides-overlay-background-dark-color)}.fides-radio-button-group{background-color:var(\n    --fides-overlay-secondary-button-background-hover-color\n  );border:1px solid var(--fides-overlay-row-divider-color);display:flex;margin-bottom:22px;padding:4px}.fides-radio-button{background-color:transparent;border:none;cursor:pointer;flex:1;padding:5px 16px}.fides-radio-button[aria-checked=true]{background-color:var(--fides-overlay-primary-button-background-color);color:var(--fides-overlay-primary-button-text-color)}.fides-flex-center{align-items:center;display:flex}.fides-margin-right{margin-right:3px}.fides-justify-space-between{justify-content:space-between}.fides-tcf-toggle-content{font-size:var(--fides-overlay-font-size-body-small);font-weight:400;margin-right:60px}.fides-tcf-purpose-vendor-title{display:flex;font-weight:600;justify-content:space-between}.fides-tcf-illustration{font-size:var(--fides-overlay-font-size-body-small);padding:13px 60px 13px 13px}.fides-tcf-illustration,.fides-tcf-purpose-vendor{border-radius:var(--fides-overlay-component-border-radius)}.fides-tcf-purpose-vendor{padding:13px}.fides-tcf-purpose-vendor-list{font-weight:400;list-style:none;margin-bottom:0;margin-left:0;padding-left:0}.fides-tcf-vendor-toggles{display:flex}.fides-vendor-details-table{width:100%}.fides-vendor-details-table td,.fides-vendor-details-table th{font-size:var(--fides-overlay-font-size-body-small);text-align:left}.fides-vendor-details-table td{border-bottom:1px solid var(--fides-overlay-row-divider-color)}.fides-link-button{background:none;border:none;color:var(--fides-overlay-body-font-color);cursor:pointer;padding:0;text-decoration:underline}.fides-external-link,.fides-primary-text-color{color:var(--fides-overlay-primary-color)}.fides-external-link{font-size:var(--fides-overlay-font-size-body-small);font-weight:500;margin-right:16px}.fides-vendor-info-banner{border-radius:var(--fides-overlay-component-border-radius);display:flex;flex-direction:row;gap:30px;justify-content:space-around;margin-bottom:16px;padding:16px 12px;position:sticky;top:0}.fides-vendor-info-label{font-size:var(--fides-overlay-font-size-body-small);font-weight:600;margin-right:4px}.fides-info-box{background-color:var(--fides-overlay-hover-color);border-radius:var(--fides-overlay-component-border-radius);margin:10px 0;padding:16px}.fides-info-box p{margin:0}.fides-tabs .tabpanel-container{overflow:hidden}.tabpanel-container section[hidden]{display:none}@media screen and (min-width:768px){div#fides-banner{border:1px solid var(--fides-overlay-primary-color);border-radius:var(--fides-overlay-component-border-radius);width:75%}div#fides-banner-container.fides-banner-bottom{bottom:var(--fides-overlay-banner-offset)}}@media only screen and (min-width:1280px){div#fides-banner{border:1px solid var(--fides-overlay-primary-color);width:60%}}@media screen and (max-width:992px){.fides-vendor-info-banner{flex-direction:column;gap:16px}}@media screen and (max-width:768px){div#fides-banner{padding:24px}div#fides-banner-description{margin-bottom:0}div#fides-banner-inner div#fides-button-group{flex-direction:column;gap:12px;padding-top:24px}.fides-banner-button-group{flex-direction:column}button.fides-banner-button{margin:0}div#fides-tcf-banner-inner{margin-top:24px;min-height:revert;overflow-y:revert}div#fides-banner-inner-container{display:flex;flex-direction:column;max-height:50vh;overflow-y:auto;scrollbar-gutter:stable}div#fides-privacy-policy-link{order:1;width:100%}.fides-modal-footer{width:100%}.fides-tcf-banner-container div#fides-banner div#fides-banner-inner div#fides-button-group .fides-banner-button-group{padding-left:0}}.fides-tcf-banner-container{bottom:0!important}.fides-tcf-banner-container #fides-banner{border-radius:0;border-width:1px 0 0;padding:24px 40px 40px;width:100%}.fides-tcf-banner-container #fides-privacy-policy-link{margin:auto}.fides-paging-buttons{display:flex;gap:8px;justify-content:center}.fides-paging-info{color:var(--fides-overlay-font-color-dark);font-size:var(--fides-overlay-font-size-body-small);font-weight:600;padding:8px}.fides-paging-previous-button{margin-right:8px}.fides-paging-next-button,.fides-paging-previous-button{background-color:transparent;border:none;cursor:pointer;padding:6px}.fides-paging-next-button:disabled,.fides-paging-previous-button:disabled{cursor:default}');var Zi=['a[href]:not([tabindex^="-"])','area[href]:not([tabindex^="-"])','input:not([type="hidden"]):not([type="radio"]):not([disabled]):not([tabindex^="-"])','input[type="radio"]:not([disabled]):not([tabindex^="-"])','select:not([disabled]):not([tabindex^="-"])','textarea:not([disabled]):not([tabindex^="-"])','button:not([disabled]):not([tabindex^="-"])','iframe:not([tabindex^="-"])','audio[controls]:not([tabindex^="-"])','video[controls]:not([tabindex^="-"])','[contenteditable]:not([tabindex^="-"])','[tabindex]:not([tabindex^="-"])'];function Xi(e){this._show=this.show.bind(this),this._hide=this.hide.bind(this),this._maintainFocus=this._maintainFocus.bind(this),this._bindKeypress=this._bindKeypress.bind(this),this.$el=e,this.shown=!1,this._id=this.$el.getAttribute("data-a11y-dialog")||this.$el.id,this._previouslyFocused=null,this._listeners={},this.create()}function eo(e,t){return function(e){return Array.prototype.slice.call(e)}((t||document).querySelectorAll(e))}function to(e){(e.querySelector("[autofocus]")||e).focus()}function no(){eo("[data-a11y-dialog]").forEach((function(e){new Xi(e)}))}Xi.prototype.create=function(){this.$el.setAttribute("aria-hidden",!0),this.$el.setAttribute("aria-modal",!0),this.$el.setAttribute("tabindex",-1),this.$el.hasAttribute("role")||this.$el.setAttribute("role","dialog"),this._openers=eo('[data-a11y-dialog-show="'+this._id+'"]'),this._openers.forEach(function(e){e.addEventListener("click",this._show)}.bind(this));const e=this.$el;return this._closers=eo("[data-a11y-dialog-hide]",this.$el).filter((function(t){return t.closest('[aria-modal="true"], [data-a11y-dialog]')===e})).concat(eo('[data-a11y-dialog-hide="'+this._id+'"]')),this._closers.forEach(function(e){e.addEventListener("click",this._hide)}.bind(this)),this._fire("create"),this},Xi.prototype.show=function(e){return this.shown||(this._previouslyFocused=document.activeElement,this.$el.removeAttribute("aria-hidden"),this.shown=!0,to(this.$el),document.body.addEventListener("focus",this._maintainFocus,!0),document.addEventListener("keydown",this._bindKeypress),this._fire("show",e)),this},Xi.prototype.hide=function(e){return this.shown?(this.shown=!1,this.$el.setAttribute("aria-hidden","true"),this._previouslyFocused&&this._previouslyFocused.focus&&this._previouslyFocused.focus(),document.body.removeEventListener("focus",this._maintainFocus,!0),document.removeEventListener("keydown",this._bindKeypress),this._fire("hide",e),this):this},Xi.prototype.destroy=function(){return this.hide(),this._openers.forEach(function(e){e.removeEventListener("click",this._show)}.bind(this)),this._closers.forEach(function(e){e.removeEventListener("click",this._hide)}.bind(this)),this._fire("destroy"),this._listeners={},this},Xi.prototype.on=function(e,t){return typeof this._listeners[e]>"u"&&(this._listeners[e]=[]),this._listeners[e].push(t),this},Xi.prototype.off=function(e,t){var n=(this._listeners[e]||[]).indexOf(t);return n>-1&&this._listeners[e].splice(n,1),this},Xi.prototype._fire=function(e,t){var n=this._listeners[e]||[],i=new CustomEvent(e,{detail:t});this.$el.dispatchEvent(i),n.forEach(function(e){e(this.$el,t)}.bind(this))},Xi.prototype._bindKeypress=function(e){const t=document.activeElement;t&&t.closest('[aria-modal="true"]')!==this.$el||(this.shown&&"Escape"===e.key&&"alertdialog"!==this.$el.getAttribute("role")&&(e.preventDefault(),this.hide(e)),this.shown&&"Tab"===e.key&&function(e,t){var n=function(e){return eo(Zi.join(","),e).filter((function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}))}(e),i=n.indexOf(document.activeElement);t.shiftKey&&0===i?(n[n.length-1].focus(),t.preventDefault()):!t.shiftKey&&i===n.length-1&&(n[0].focus(),t.preventDefault())}(this.$el,e))},Xi.prototype._maintainFocus=function(e){this.shown&&!e.target.closest('[aria-modal="true"]')&&!e.target.closest("[data-a11y-dialog-ignore-focus-trap]")&&to(this.$el)},typeof document<"u"&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",no):window.requestAnimationFrame?window.requestAnimationFrame(no):window.setTimeout(no,16));const io=({role:e,id:t,onClose:n,onEsc:i})=>{const{instance:o,container:r}=(e=>{const[t,n]=Vi(null);return{instance:t,container:ji((t=>{if(null!==t){const i=new Xi(t);i.on("show",(()=>{document.documentElement.style.overflowY="hidden"})).on("hide",((t,n)=>{document.documentElement.style.overflowY="",e&&n instanceof KeyboardEvent&&"Escape"===n.key&&e()})),n(i)}}),[])}})(i),s="alertdialog"===e,a=`${t}-title`,d=ji((()=>{o&&o.hide(),n&&n()}),[o]);return Ri((()=>()=>{o&&o.destroy()}),[o]),{instance:o,attributes:{container:{id:t,ref:r,role:e,tabIndex:-1,"aria-modal":!0,"aria-hidden":!0,"aria-labelledby":a},overlay:{onClick:s?void 0:d},dialog:{role:"document"},closeButton:{type:"button",onClick:d},title:{role:"heading","aria-level":1,id:a}}}},oo=()=>Xn("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor"},Xn("path",{d:"M9 12.05a.68.68 0 0 0-.68.7c0 .39.32.7.68.7.39 0 .68-.31.68-.7a.66.66 0 0 0-.68-.7Zm0-1.18c.26 0 .44-.2.44-.46V6.19c0-.26-.2-.47-.44-.47a.49.49 0 0 0-.47.47v4.22c0 .25.21.46.47.46Zm7.27 2.27-5.85-9.9c-.3-.5-.83-.8-1.42-.8-.6 0-1.12.3-1.42.8l-5.86 9.9c-.3.5-.3 1.1-.01 1.6.3.51.83.82 1.43.82h11.72c.6 0 1.13-.3 1.43-.82.29-.5.28-1.1-.02-1.6Zm-.82 1.1c-.1.25-.33.38-.62.38H3.14a.7.7 0 0 1-.61-.35.64.64 0 0 1 0-.65l5.86-9.9A.7.7 0 0 1 9 3.37a.7.7 0 0 1 .61.35l5.86 9.9c.1.2.12.44-.02.63Z"})),ro=()=>Ze().globalPrivacyControl?Xn("div",{className:"fides-gpc-banner"},Xn("div",{className:"fides-gpc-warning"},Xn(oo,null)),Xn("div",null,Xn("p",{className:"fides-gpc-header"},"Global Privacy Control detected"),Xn("p",null,"Your global privacy control preference has been honored. You have been automatically opted out of data uses cases which adhere to global privacy control."))):null;var so=Object.defineProperty,ao=Object.defineProperties,lo=Object.getOwnPropertyDescriptors,co=Object.getOwnPropertySymbols,po=Object.prototype.hasOwnProperty,uo=Object.prototype.propertyIsEnumerable,fo=(e,t,n)=>t in e?so(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const go=({title:e,className:t,experience:n,renderModalFooter:i,children:o,onVendorPageClick:r})=>{var s,a;const d=Ze().globalPrivacyControl;return Xn(ti,null,Xn("div",{"data-testid":"consent-content",id:"fides-consent-content",className:t},Xn("div",{className:"fides-modal-body"},Xn("div",((e,t)=>ao(e,lo(t)))(((e,t)=>{for(var n in t||(t={}))po.call(t,n)&&fo(e,n,t[n]);if(co)for(var n of co(t))uo.call(t,n)&&fo(e,n,t[n]);return e})({"data-testid":"fides-modal-title"},e),{className:"fides-modal-title"}),n.title),Xn("p",{"data-testid":"fides-modal-description",className:"fides-modal-description"},Xn(Qi,{onVendorPageClick:r,description:n.description,allowHTMLDescription:null==(a=null==(s=window.Fides)?void 0:s.options)?void 0:a.allowHTMLDescription})),d&&Xn(ro,null),o)),Xn("div",{className:"fides-modal-footer"},i()))};var vo=Object.defineProperty,ho=Object.defineProperties,bo=Object.getOwnPropertyDescriptors,mo=Object.getOwnPropertySymbols,yo=Object.prototype.hasOwnProperty,_o=Object.prototype.propertyIsEnumerable,wo=(e,t,n)=>t in e?vo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xo=(e,t)=>{for(var n in t||(t={}))yo.call(t,n)&&wo(e,n,t[n]);if(mo)for(var n of mo(t))_o.call(t,n)&&wo(e,n,t[n]);return e},Co=(e,t)=>ho(e,bo(t));const Eo=({attributes:e,experience:t,renderModalFooter:n,renderModalContent:i})=>{const{container:o,overlay:r,dialog:s,title:a,closeButton:d}=e;return Xn("div",Co(xo({"data-testid":"consent-modal"},o),{className:"fides-modal-container"}),Xn("div",Co(xo({},r),{className:"fides-modal-overlay"})),Xn("div",Co(xo({"data-testid":"fides-modal-content"},s),{className:"fides-modal-content"}),Xn("div",{className:"fides-modal-header"},Xn("div",null),Xn(Ki,{ariaLabel:"Close modal",onClick:d.onClick,hidden:window.Fides.options.preventDismissal})),Xn(go,{title:a,experience:t,renderModalFooter:n},i())))},Oo=({id:e})=>{const[t,n]=Vi(!1),i=ji((()=>n(!1)),[]),o=ji((()=>n(!0)),[]),r=ji((()=>{t?i():o()}),[t,o,i]);return{isOpen:t,onOpen:o,onClose:i,onToggle:r,getButtonProps:()=>({"aria-expanded":t,"aria-controls":e,onClick:r}),getDisclosureProps:()=>({id:e,className:t?"fides-disclosure-visible":"fides-disclosure-hidden"})}},Io=e=>e?e.map((e=>e.id)):[],So=({notices:e,options:t,userGeography:n,privacyExperience:i,acknowledgeMode:o})=>{const[r,s]=Vi([]),a=ji((r=>((e,t,n)=>new Promise(((i,o)=>{var r=e=>{try{a(n.next(e))}catch(e){o(e)}},s=e=>{try{a(n.throw(e))}catch(e){o(e)}},a=e=>e.done?i(e.value):Promise.resolve(e.value).then(r,s);a((n=n.apply(e,t)).next())})))(void 0,null,(function*(){if(!r.detail.extraDetails||r.detail.extraDetails.servingComponent===ee.BANNER)return;const a={browser_identity:r.detail.identity,privacy_experience_id:i.id,user_geography:n,acknowledge_mode:o,privacy_notice_history_ids:e.map((e=>e.privacy_notice_history_id)),tcf_purpose_consents:Io(i?.tcf_purpose_consents),tcf_purpose_legitimate_interests:Io(i.tcf_purpose_legitimate_interests),tcf_special_purposes:Io(i?.tcf_special_purposes),tcf_vendor_consents:Io(i?.tcf_vendor_consents),tcf_vendor_legitimate_interests:Io(i.tcf_vendor_legitimate_interests),tcf_features:Io(i?.tcf_features),tcf_special_features:Io(i?.tcf_special_features),tcf_system_consents:Io(i?.tcf_system_consents),tcf_system_legitimate_interests:Io(i?.tcf_system_legitimate_interests),serving_component:r.detail.extraDetails.servingComponent},d=yield(e=>cn(void 0,[e],(function*({request:e,options:t}){var n;if(bt(t.debug,"Saving that notices were served..."),null!=(n=t.apiOptions)&&n.patchNoticesServedFn){bt(t.debug,"Calling custom patch notices served fn");try{return yield t.apiOptions.patchNoticesServedFn(e)}catch(e){return bt(t.debug,"Error patching notices served to custom API, continuing. Error: ",e),null}}bt(t.debug,"Calling Fides patch notices served API");const i=ln(dn({},un),{body:JSON.stringify(e)}),o=yield fetch(`${t.fidesApiUrl}/notices-served`,i);return o.ok?o.json():(bt(t.debug,"Error patching notices served. Response:",o),null)})))({request:a,options:t});d&&s(d)}))),[e,t,o,i,n]);return Ri((()=>(window.addEventListener("FidesUIShown",a),()=>{window.removeEventListener("FidesUIShown",a)})),[a]),{servedNotices:r}},Po=({experience:e,options:t,cookie:n,onOpen:i,onDismiss:o,renderBanner:r,renderModalContent:s,renderModalFooter:a,onVendorPageClick:d})=>{var l;const c=(()=>{const[e,t]=Vi(!1);return Ri((()=>{t(!0)}),[]),e})(),[p,u]=Vi(!1),f=ji((({saved:e=!1})=>{Cn("FidesModalClosed",n,t.debug,{saved:e}),e||o()}),[n,t.debug]),{instance:g,attributes:v}=io({id:"fides-modal",role:window.Fides.options.preventDismissal?"alertdialog":"dialog",title:(null==(l=e?.experience_config)?void 0:l.title)||"",onClose:()=>{f({saved:!1})},onEsc:()=>{f({saved:!1})}}),h=ji((()=>{g&&(g.show(),i())}),[g,i]),b=ji((()=>{g&&!t.fidesEmbed&&(g.hide(),f({saved:!0}))}),[g,f,t.fidesEmbed]);Ri((()=>{t.fidesEmbed&&i()}),[t,i]),Ri((()=>{const e=setTimeout((()=>{u(!0)}),100);return()=>clearTimeout(e)}),[u]),Ri((()=>{const e=setTimeout((()=>{const e=t.modalLinkId||"fides-modal-link",n=document.getElementById(e);if(n){bt(t.debug,"Modal link element found, updating it to show and trigger modal on click.");const e=n;e.onclick=()=>{u(!1),h()},e.classList.add("fides-modal-link-shown")}else bt(t.debug,"Modal link element not found.")}),200);return()=>clearTimeout(e)}),[t.modalLinkId,t.debug,h]);const m=Di((()=>!t.fidesDisableBanner&&e.show_banner&&Ot(e,n)&&!t.fidesEmbed),[e,t,n]);return c?e.experience_config?Xn("div",null,m&&p&&window.Fides.options.preventDismissal&&Xn("div",{className:"fides-modal-overlay"}),m?r({isOpen:p,onClose:()=>{u(!1)},onSave:()=>{u(!1)},onManagePreferencesClick:()=>{h(),u(!1)}}):null,t.fidesEmbed?Xn(go,{title:v.title,className:"fides-embed",experience:e.experience_config,renderModalFooter:()=>a({onClose:b,isMobile:!1})},s()):Xn(Eo,{attributes:v,experience:e.experience_config,onVendorPageClick:d,renderModalFooter:()=>a({onClose:b,isMobile:!1}),renderModalContent:s})):(bt(t.debug,"No experience config found"),null):null},ko=({buttonType:e,label:t,onClick:n,className:i=""})=>Xn("button",{type:"button",id:`fides-banner-button-${e.valueOf()}`,className:`fides-banner-button fides-banner-button-${e.valueOf()} ${i}`,onClick:n,"data-testid":`${t}-btn`},t||""),Lo=({experience:e})=>null!=e&&e.privacy_policy_link_label&&null!=e&&e.privacy_policy_url?Xn("div",{id:"fides-privacy-policy-link",style:{display:"flex",alignItems:"center",justifyContent:"center"}},Xn("a",{href:e.privacy_policy_url,rel:"noopener noreferrer",target:"_blank",className:"fides-privacy-policy"},e.privacy_policy_link_label)):null,To=({experienceConfig:e,onManagePreferencesClick:t,firstButton:n,onAcceptAll:i,onRejectAll:o,isMobile:r,includePrivacyPolicy:s,saveOnly:a=!1})=>Xn("div",{id:"fides-button-group"},t?Xn("div",{style:{display:"flex"}},Xn(ko,{buttonType:r?Q.SECONDARY:Q.TERTIARY,label:e.privacy_preferences_link_label,onClick:t,className:"fides-manage-preferences-button"})):null,s?Xn(Lo,{experience:e}):null,Xn("div",{className:n?"fides-modal-button-group":"fides-banner-button-group"},n||null,!a&&Xn(ti,null,Xn(ko,{buttonType:Q.PRIMARY,label:e.reject_button_label,onClick:o,className:"fides-reject-all-button"}),Xn(ko,{buttonType:Q.PRIMARY,label:e.accept_button_label,onClick:i,className:"fides-accept-all-button"})))),Ao=({experience:e,onSave:t,onManagePreferencesClick:n,enabledKeys:i,isInModal:o,isAcknowledge:r,isMobile:s,saveOnly:a=!1})=>{if(!e.experience_config||!e.privacy_notices)return null;const{experience_config:d,privacy_notices:l}=e,c=()=>{t(J.ACCEPT,l.map((e=>e.notice_key)))};return r?Xn("div",{className:"fides-acknowledge-button-container "+(o?"":"fides-banner-acknowledge")},Xn(ko,{buttonType:Q.PRIMARY,label:d.acknowledge_button_label,onClick:c,className:"fides-acknowledge-button"})):Xn(To,{experienceConfig:d,onManagePreferencesClick:n,onAcceptAll:c,onRejectAll:()=>{t(J.REJECT,l.filter((e=>e.consent_mechanism===K.NOTICE_ONLY)).map((e=>e.notice_key)))},firstButton:o?Xn(ko,{buttonType:a?Q.PRIMARY:Q.SECONDARY,label:d.save_button_label,onClick:()=>{t(J.SAVE,i)},className:"fides-save-button"}):void 0,isMobile:s,includePrivacyPolicy:!o,saveOnly:a})},No=()=>Xn("hr",{className:"fides-divider"}),Vo=({name:e,id:t,checked:n,onChange:i,disabled:o})=>{const r=`toggle-${t}`;return Xn("label",{className:"fides-toggle",htmlFor:e,"data-testid":`toggle-${e}`,id:r},Xn("input",{type:"checkbox",name:e,className:"fides-toggle-input",onChange:()=>{i(t)},checked:n,role:"switch","aria-labelledby":r,disabled:o}),Xn("span",{className:"fides-toggle-display",hidden:!0},n?"On":"Off"))};var Ro=Object.defineProperty,Fo=Object.defineProperties,Do=Object.getOwnPropertyDescriptors,jo=Object.getOwnPropertySymbols,Uo=Object.prototype.hasOwnProperty,Mo=Object.prototype.propertyIsEnumerable,$o=(e,t,n)=>t in e?Ro(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zo=(e,t)=>{for(var n in t||(t={}))Uo.call(t,n)&&$o(e,n,t[n]);if(jo)for(var n of jo(t))Mo.call(t,n)&&$o(e,n,t[n]);return e};const Bo=({dataUse:e,checked:t,onToggle:n,children:i,badge:o,gpcBadge:r,disabled:s,isHeader:a,includeToggle:d=!0})=>{const{isOpen:l,getButtonProps:c,getDisclosureProps:p,onToggle:u}=Oo({id:e.key}),f=null!=i,g=f?c():{};return Xn("div",{className:l&&f?"fides-notice-toggle fides-notice-toggle-expanded":"fides-notice-toggle"},Xn("div",{key:e.key,className:"fides-notice-toggle-title"},Xn("span",((e,t)=>Fo(e,Do(t)))(zo({role:"button",tabIndex:0,onKeyDown:f?e=>{("Space"===e.code||"Enter"===e.code)&&u()}:void 0},g),{className:a?"fides-notice-toggle-trigger fides-notice-toggle-header":"fides-notice-toggle-trigger"}),Xn("span",{className:"fides-flex-center fides-justify-space-between"},e.name,o?Xn("span",{className:"fides-notice-badge"},o):null),r),d?Xn(Vo,{name:e.name||"",id:e.key,checked:t,onChange:n,disabled:s}):null),i?Xn("div",zo({},p()),i):null)},Go=({notices:e,enabledNoticeKeys:t,onChange:n})=>{const i=e=>{-1===t.indexOf(e)?n([...t,e]):n(t.filter((t=>t!==e)))};return Xn("div",null,e.map(((n,o)=>{const r=-1!==t.indexOf(n.notice_key),s=o===e.length-1,a={key:n.notice_key,name:n.name};return Xn("div",null,Xn(Bo,{dataUse:a,checked:r,onToggle:i,gpcBadge:Xn(Wi,{notice:n,value:r}),disabled:n.consent_mechanism===K.NOTICE_ONLY},n.description),s?null:Xn(No,null))})))},Ho=({experience:e,options:t,fidesRegionString:n,cookie:i})=>{const o=Di((()=>Object.keys(i.consent).filter((e=>i.consent[e]))),[i.consent]),[r,s]=Vi(o),a=Di((()=>{var t;return null!=(t=e.privacy_notices)?t:[]}),[e.privacy_notices]),d=a.every((e=>e.consent_mechanism===K.NOTICE_ONLY)),{servedNotices:l}=So({notices:a,options:t,userGeography:n,acknowledgeMode:d,privacyExperience:e}),c=ji(((o,r)=>{const d=((e,t,n)=>{const i=Object.fromEntries(n.filter((e=>{var t;return void 0!==(null==(t=e.privacy_notice_history)?void 0:t.id)})).map((e=>{var t;return[null==(t=e.privacy_notice_history)?void 0:t.id,e.served_notice_history_id]})));return e.map((e=>{const n=wt(t.includes(e.notice_key),e.consent_mechanism);return new M(e,n,i[e.privacy_notice_history_id])}))})(a,r,l);Tn({consentPreferencesToSave:d,experience:e,consentMethod:o,options:t,userLocationString:n,cookie:i,updateCookie:e=>Xt(e,d)}),s(r)}),[a,i,n,e,t,l]),p=ji((()=>{Cn("FidesUIShown",i,t.debug,{servingComponent:ee.BANNER})}),[i,t.debug]),u=ji((()=>{Cn("FidesUIShown",i,t.debug,{servingComponent:ee.OVERLAY})}),[i,t.debug]),f=ji((()=>{c(J.DISMISS,o)}),[c,o]);if(!e.experience_config)return bt(t.debug,"No experience config found"),null;const g=e.experience_config;return Xn(Po,{options:t,experience:e,cookie:i,onOpen:u,onDismiss:f,renderBanner:({isOpen:t,onClose:n,onSave:i,onManagePreferencesClick:o})=>Xn(Ji,{bannerIsOpen:t,onOpen:p,onClose:()=>{n(),f()},experience:g,renderButtonGroup:({isMobile:t})=>Xn(Ao,{experience:e,onManagePreferencesClick:o,enabledKeys:r,onSave:(e,t)=>{c(e,t),i()},isAcknowledge:d,isMobile:t})}),renderModalContent:()=>Xn("div",null,Xn("div",{className:"fides-modal-notices"},Xn(Go,{notices:a,enabledNoticeKeys:r,onChange:e=>{s(e),Cn("FidesUIChanged",i,t.debug)}}))),renderModalFooter:({onClose:t,isMobile:n})=>Xn(ti,null,Xn(Ao,{experience:e,enabledKeys:r,onSave:(e,n)=>{c(e,n),t()},isInModal:!0,isAcknowledge:d,isMobile:n,saveOnly:1===a.length}),Xn(Lo,{experience:e.experience_config}))})};var Ko=Object.defineProperty,Yo=Object.getOwnPropertySymbols,Wo=Object.prototype.hasOwnProperty,qo=Object.prototype.propertyIsEnumerable,Qo=(e,t,n)=>t in e?Ko(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Jo=(e,t)=>{_i(Xn(Ho,((e,t)=>{for(var n in t||(t={}))Wo.call(t,n)&&Qo(e,n,t[n]);if(Yo)for(var n of Yo(t))qo.call(t,n)&&Qo(e,n,t[n]);return e})({},e)),t)};function Zo(e){return((e,t,n)=>new Promise(((i,o)=>{var r=e=>{try{a(n.next(e))}catch(e){o(e)}},s=e=>{try{a(n.throw(e))}catch(e){o(e)}},a=e=>e.done?i(e.value):Promise.resolve(e.value).then(r,s);a((n=n.apply(e,t)).next())})))(this,null,(function*(){var t;if(null==(t=e.options.apiOptions)||!t.getPreferencesFn)return null;bt(e.options.debug,"Calling custom get preferences fn");try{return yield e.options.apiOptions.getPreferencesFn(e)}catch(t){return bt(e.options.debug,"Error retrieving preferences from custom API, continuing. Error: ",t),null}}))}var Xo=Object.defineProperty,er=Object.defineProperties,tr=Object.getOwnPropertyDescriptors,nr=Object.getOwnPropertySymbols,ir=Object.prototype.hasOwnProperty,or=Object.prototype.propertyIsEnumerable,rr=(e,t,n)=>t in e?Xo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sr=(e,t)=>{for(var n in t||(t={}))ir.call(t,n)&&rr(e,n,t[n]);if(nr)for(var n of nr(t))or.call(t,n)&&rr(e,n,t[n]);return e},ar=(e,t)=>er(e,tr(t)),dr=(e,t,n)=>new Promise(((i,o)=>{var r=e=>{try{a(n.next(e))}catch(e){o(e)}},s=e=>{try{a(n.throw(e))}catch(e){o(e)}},a=e=>e.done?i(e.value):Promise.resolve(e.value).then(r,s);a((n=n.apply(e,t)).next())}));let lr;lr={consent:{},experience:void 0,geolocation:{},options:{debug:!0,isOverlayEnabled:!1,isPrefetchEnabled:!1,isGeolocationEnabled:!1,geolocationApiUrl:"",overlayParentId:null,modalLinkId:null,privacyCenterUrl:"",fidesApiUrl:"",serverSideFidesApiUrl:"",tcfEnabled:!1,fidesEmbed:!1,fidesDisableSaveApi:!1,fidesDisableBanner:!1,fidesString:null,apiOptions:null,fidesTcfGdprApplies:!1,gppExtensionPath:"",customOptionsPath:null,preventDismissal:!1,allowHTMLDescription:null},fides_meta:{},identity:{},tcf_consent:{},gtm:F,init:e=>dr(void 0,null,(function*(){var t,n;const i={optionsOverrides:Fn(e),consentPrefsOverrides:yield Zo(e)};e.options=sr(sr({},e.options),i.optionsOverrides);const o=sr(sr({},Dn(e)),null==(t=i.consentPrefsOverrides)?void 0:t.consent),r=jn(ar(sr({},e),{cookie:o,updateExperienceFromCookieConsent:qt}));r&&(Object.assign(lr,r),Cn("FidesInitialized",o,e.options.debug));const s=null!=(n=r?.experience)?n:e.experience,a=yield Un(ar(sr({},e),{cookie:o,experience:s,renderOverlay:Jo,updateCookieAndExperience:({cookie:e,experience:t,debug:n,isExperienceClientSideFetched:i})=>((e,t,n,i)=>dr(void 0,null,(function*(){let o=t;const r=$t(e.consent);i&&r&&(o=qt({experience:t,cookie:e,debug:n}));const s=Ze(),a=Wt(o,s,!!n);return{cookie:ar(sr({},e),{consent:a}),experience:o}})))(e,t,n,i)}));Object.assign(lr,a),Cn("FidesInitialized",o,e.options.debug)})),initialized:!1,meta:D,shopify:U},typeof window<"u"&&(window.Fides=lr);const cr=e=>e?e.map((e=>`${e.id}`)):[],pr=({experience:e,onManagePreferencesClick:t,onSave:n,firstButton:i,isMobile:o,includePrivacyPolicy:r})=>e.experience_config?Xn(To,{experienceConfig:e.experience_config,onManagePreferencesClick:t,onAcceptAll:()=>{const t={purposesConsent:cr(e.tcf_purpose_consents),purposesLegint:cr(e.tcf_purpose_legitimate_interests),specialPurposes:cr(e.tcf_special_purposes),features:cr(e.tcf_features),specialFeatures:cr(e.tcf_special_features),vendorsConsent:cr([...e.tcf_vendor_consents||[],...e.tcf_system_consents||[]]),vendorsLegint:cr([...e.tcf_vendor_legitimate_interests||[],...e.tcf_system_legitimate_interests||[]])};n(J.ACCEPT,t)},onRejectAll:()=>{n(J.REJECT,{purposesConsent:[],purposesLegint:[],specialPurposes:[],features:[],specialFeatures:[],vendorsConsent:[],vendorsLegint:[]})},firstButton:i,isMobile:o,includePrivacyPolicy:r}):null,ur=({ids:e,stacks:t,modelType:n})=>{const i=new Set([].concat(...t.map((e=>e[n]))));return e.filter((e=>!i.has(e)))};var fr=Object.defineProperty,gr=Object.defineProperties,vr=Object.getOwnPropertyDescriptors,hr=Object.getOwnPropertySymbols,br=Object.prototype.hasOwnProperty,mr=Object.prototype.propertyIsEnumerable,yr=(e,t,n)=>t in e?fr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_r=(e,t)=>{for(var n in t||(t={}))br.call(t,n)&&yr(e,n,t[n]);if(hr)for(var n of hr(t))mr.call(t,n)&&yr(e,n,t[n]);return e};const wr=()=>Xn("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none"},Xn("path",{fill:"#2D3748",d:"m12 13.172 4.95-4.95 1.414 1.414L12 16 5.636 9.636 7.05 8.222l4.95 4.95Z"})),xr=({title:e,description:t,purposes:n})=>{const{isOpen:i,getButtonProps:o,getDisclosureProps:r,onToggle:s}=Oo({id:e});return Xn("div",{className:i?"fides-notice-toggle fides-notice-toggle-expanded":"fides-notice-toggle"},Xn("div",{key:e,className:"fides-notice-toggle-title"},Xn("span",((e,t)=>gr(e,vr(t)))(_r({role:"button",tabIndex:0,onKeyDown:e=>{("Space"===e.code||"Enter"===e.code)&&s()}},o()),{className:"fides-notice-toggle-trigger"}),e,Xn(wr,null))),Xn("div",_r({},r()),Xn("div",null,t),null!=n&&n.length?Xn("div",{className:"fides-tcf-purpose-vendor fides-background-dark"},Xn("div",{className:"fides-tcf-purpose-vendor-title fides-tcf-toggle-content"},"Purposes include"),Xn("ul",{className:"fides-tcf-purpose-vendor-list fides-tcf-toggle-content"},n.map((e=>Xn("li",null,"Purpose ",e.id,": ",e.name))))):null))};var Cr=Object.defineProperty,Er=Object.defineProperties,Or=Object.getOwnPropertyDescriptors,Ir=Object.getOwnPropertySymbols,Sr=Object.prototype.hasOwnProperty,Pr=Object.prototype.propertyIsEnumerable,kr=(e,t,n)=>t in e?Cr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lr=(e,t)=>{for(var n in t||(t={}))Sr.call(t,n)&&kr(e,n,t[n]);if(Ir)for(var n of Ir(t))Pr.call(t,n)&&kr(e,n,t[n]);return e};const Tr=({consentPurposes:e=[],legintPurposes:t=[]})=>{const n=Array.from(new Set([...e.map((e=>e.id)),...t.map((e=>e.id))])).sort(((e,t)=>e-t)),i=[];return n.forEach((n=>{const o=e.find((e=>e.id===n)),r=t.find((e=>e.id===n));if(o||r){const e=Lr(Lr({},o),r);i.push(((e,t)=>Er(e,Or(t)))(Lr({},e),{id:n,isConsent:!!o,isLegint:!!r}))}})),{uniquePurposeIds:n,uniquePurposes:i}},Ar=(e,t)=>{const{legal_bases:n}=e;return!!n&&!!n.find((e=>e===t))},Nr=({experience:e})=>{const{tcf_purpose_consents:t=[],tcf_purpose_legitimate_interests:n=[],tcf_special_features:i=[]}=e,{uniquePurposeIds:o,uniquePurposes:r}=Di((()=>Tr({consentPurposes:t,legintPurposes:n})),[t,n]),s=Di((()=>i.map((e=>e.id))),[i]),a=Di((()=>e.gvl&&0!==Object.keys(e.gvl).length?(({purposeIds:e,specialFeatureIds:t,stacks:n})=>{const i=new Set(e),o=new Set(t),r=Object.entries(n).filter((([,e])=>{const t=e.purposes.every((e=>i.has(e))),n=e.specialFeatures.every((e=>o.has(e)));return t&&n})).map((e=>e[1]));return r.filter((e=>{const t=e.purposes,n=e.specialFeatures,i=r.filter((e=>{const n=new Set(e.purposes);return t.every((e=>n.has(e)))})),o=r.filter((e=>{const t=new Set(e.specialFeatures);return n.every((e=>t.has(e)))}));return!!(t.length&&1===i.length||n.length&&1===o.length)}))})({purposeIds:o,specialFeatureIds:s,stacks:e.gvl.stacks}):[]),[o,s,e.gvl]),d=Di((()=>{const e=ur({ids:o,stacks:a,modelType:"purposes"});return r.filter((t=>e.includes(t.id)))}),[a,o,r]),l=Di((()=>{if(!e.tcf_special_features)return[];const t=ur({ids:s,stacks:a,modelType:"specialFeatures"});return e.tcf_special_features.filter((e=>-1!==t.indexOf(e.id)))}),[a,s,e.tcf_special_features]);return Xn("div",null,Xn("div",null,a.map((e=>{const t=r.filter((t=>-1!==e.purposes.indexOf(t.id)));return Xn(xr,{key:e.id,title:e.name,description:e.description,purposes:t})}))),Xn("div",null,d.map((e=>Xn(xr,{key:e.id,title:e.name,description:e.description})))),Xn("div",null,l.map((e=>Xn(xr,{key:e.id,title:e.name,description:e.description})))))},Vr=({items:e,title:t,enabledIds:n,renderToggleChild:i,renderBadgeLabel:o,onToggle:r,hideToggles:s})=>0===e.length?null:Xn("div",{"data-testid":`records-list-${t}`},Xn("div",{className:"fides-record-header"},t),e.map((e=>Xn(Bo,{dataUse:{key:`${e.id}`,name:e.name},onToggle:()=>{(e=>{const t=`${e.id}`;-1!==n.indexOf(t)?r(n.filter((e=>e!==t))):r([...n,t])})(e)},checked:-1!==n.indexOf(`${e.id}`),badge:o?o(e):void 0,includeToggle:!s},i(e))))),Rr=({active:e,options:t,onChange:n})=>Xn("div",{className:"fides-radio-button-group"},t.map((t=>Xn("button",{role:"radio",type:"button","aria-checked":t.value===e.value,onClick:()=>(e=>{n(e)})(t),className:"fides-radio-button"},t.label)))),Fr=e=>{const[t,n]=Vi(1),i=(e=>{const t=[];for(let n=0;n<e.length;n+=10)t.push(e.slice(n,n+10));return t})(e),o=i.length,r=t>=o,s=t<=1,a=1===t?1:10*(t-1)+1,d=t===o?e.length:10*t;return{activeChunk:i[t-1],totalPages:i.length,nextPage:()=>{r||n(t+1)},previousPage:()=>{s||n(t-1)},disableNext:r,disablePrevious:s,rangeStart:a,rangeEnd:d,totalItems:e.length}},Dr=()=>Xn("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"currentColor"},Xn("path",{d:"m5.914 6 2.475 2.475-.707.707L4.5 6l3.182-3.182.707.707L5.914 6Z"})),jr=()=>Xn("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",fill:"currentColor"},Xn("path",{d:"M7.086 6 4.61 3.525l.707-.707L8.5 6 5.318 9.182l-.707-.707L7.086 6Z"})),Ur=({nextPage:e,previousPage:t,rangeStart:n,rangeEnd:i,disableNext:o,disablePrevious:r,totalItems:s})=>Xn("div",{className:"fides-paging-buttons"},Xn("span",{className:"fides-paging-info"},n,"-",i," of ",s),Xn("div",{className:"fides-flex-center"},Xn("button",{className:"fides-paging-previous-button",type:"button",onClick:t,disabled:r,"aria-label":"Previous page"},Xn(Dr,null)),Xn("button",{className:"fides-paging-next-button",type:"button",onClick:e,disabled:o,"aria-label":"Next page"},Xn(jr,null))));var Mr=Object.defineProperty,$r=Object.getOwnPropertySymbols,zr=Object.prototype.hasOwnProperty,Br=Object.prototype.propertyIsEnumerable,Gr=(e,t,n)=>t in e?Mr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Hr=({vendors:e})=>{const t=Fr(e),{activeChunk:n,totalPages:i}=t,o=((e,t)=>{var n={};for(var i in e)zr.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&$r)for(var i of $r(e))t.indexOf(i)<0&&Br.call(e,i)&&(n[i]=e[i]);return n})(t,["activeChunk","totalPages"]);return n.length?Xn("p",{className:"fides-tcf-toggle-content fides-background-dark fides-tcf-purpose-vendor"},Xn("span",{className:"fides-tcf-purpose-vendor-title"},"Vendors we use for this purpose",Xn("span",null,e.length," vendor(s)")),Xn("ul",{className:"fides-tcf-purpose-vendor-list"},n.map((e=>Xn("li",null,e.name)))),i>1?Xn(Ur,((e,t)=>{for(var n in t||(t={}))zr.call(t,n)&&Gr(e,n,t[n]);if($r)for(var n of $r(t))Br.call(t,n)&&Gr(e,n,t[n]);return e})({},o)):null):null},Kr=({purpose:e})=>{const t=[...e.vendors||[],...e.systems||[]];return Xn("div",null,Xn("p",{className:"fides-tcf-toggle-content"},e.description),e.illustrations.map((e=>Xn("p",{className:"fides-tcf-illustration fides-background-dark"},e))),Xn(Hr,{vendors:t}))},Yr=({allPurposesConsent:e=[],allPurposesLegint:t=[],allSpecialPurposes:n,enabledPurposeConsentIds:i,enabledPurposeLegintIds:o,enabledSpecialPurposeIds:r,onChange:s})=>{const{uniquePurposes:a}=Di((()=>Tr({consentPurposes:e,legintPurposes:t})),[e,t]),[d,l]=Vi(je[0]),c=Di((()=>{const e=n??[];return d.value===Ne.CONSENT?{purposes:a.filter((e=>e.isConsent)),purposeModelType:"purposesConsent",enabledPurposeIds:i,specialPurposes:e.filter((e=>Ar(e,Ne.CONSENT))),enabledSpecialPurposeIds:r}:{purposes:a.filter((e=>e.isLegint)),purposeModelType:"purposesLegint",enabledPurposeIds:o,specialPurposes:e.filter((e=>Ar(e,Ne.LEGITIMATE_INTERESTS))),enabledSpecialPurposeIds:r}}),[d,a,i,o,n,r]);return Xn("div",null,Xn(Rr,{options:je,active:d,onChange:l}),Xn(Vr,{title:"Purposes",items:c.purposes,enabledIds:c.enabledPurposeIds,onToggle:e=>s({newEnabledIds:e,modelType:c.purposeModelType}),renderToggleChild:e=>Xn(Kr,{purpose:e}),key:`purpose-record-${d.value}`}),Xn(Vr,{title:"Special purposes",items:c.specialPurposes,enabledIds:c.enabledSpecialPurposeIds,onToggle:e=>s({newEnabledIds:e,modelType:"specialPurposes"}),renderToggleChild:e=>Xn(Kr,{purpose:e}),hideToggles:!0,key:`special-purpose-record-${d.value}`}))},Wr=({feature:e})=>{const t=[...e.vendors||[],...e.systems||[]];return Xn("div",null,Xn("p",{className:"fides-tcf-toggle-content"},e.description),Xn(Hr,{vendors:t}))},qr=({allFeatures:e,allSpecialFeatures:t,enabledFeatureIds:n,enabledSpecialFeatureIds:i,onChange:o})=>Xn("div",null,Xn(Vr,{title:"Features",items:e??[],enabledIds:n,onToggle:e=>o({newEnabledIds:e,modelType:"features"}),renderToggleChild:e=>Xn(Wr,{feature:e}),hideToggles:!0}),Xn(Vr,{title:"Special features",items:t??[],enabledIds:i,onToggle:e=>o({newEnabledIds:e,modelType:"specialFeatures"}),renderToggleChild:e=>Xn(Wr,{feature:e})})),Qr=({href:e,children:t})=>Xn("a",{href:e,className:"fides-external-link",target:"_blank",rel:"noopener noreferrer"},t);var Jr=Object.defineProperty,Zr=Object.getOwnPropertySymbols,Xr=Object.prototype.hasOwnProperty,es=Object.prototype.propertyIsEnumerable,ts=(e,t,n)=>t in e?Jr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ns=({label:e,lineItems:t})=>{if(!t||0===t.length)return null;const n=t.some((e=>null!=e.retention_period));return Xn("table",{className:"fides-vendor-details-table"},Xn("thead",null,Xn("tr",null,Xn("th",{width:"80%"},e),n?Xn("th",{width:"20%",style:{textAlign:"right"}},"Retention"):null)),Xn("tbody",null,t.map((e=>Xn("tr",{key:e.id},Xn("td",null,e.name),n?Xn("td",{style:{textAlign:"right"}},e.retention_period?`${e.retention_period} day(s)`:"N/A"):null)))))},is=({purposes:e,specialPurposes:t})=>{const n=!e||0===e.length,i=!t||0===t.length;return n&&i?null:Xn(ti,null,Xn(ns,{label:"Purposes",lineItems:e}),Xn(ns,{label:"Special purposes",lineItems:t}))},os=({gvlVendor:e,dataCategories:t})=>{if(!e||!t)return null;const n=e.dataDeclaration;return Xn("table",{className:"fides-vendor-details-table"},Xn("thead",null,Xn("tr",null,Xn("th",null,"Data categories"))),Xn("tbody",null,n?.map((e=>{const n=t[e];return Xn("tr",{key:e},Xn("td",null,n?.name||""))}))))},rs=({vendor:e})=>{const{name:t,uses_cookies:n,uses_non_cookie_access:i,cookie_max_age_seconds:o,cookie_refresh:r}=e;let s="";return n?(s=`${t} stores cookies with a maximum duration of about ${o?Math.ceil(o/60/60/24):0} Day(s).`,r&&(s=`${s} These cookies may be refreshed.`),i&&(s=`${s} This vendor also uses other methods like "local storage" to store and access information on your device.`)):i&&(s=`${t} uses methods like "local storage" to store and access information on your device.`),""!==s&&s?Xn("p",null,s):null},ss=({vendor:e,experience:t})=>{var n;const i=Le(e.id,t.gvl),o=null==(n=t.gvl)?void 0:n.dataCategories,r=e.privacy_policy_url||e.legitimate_interest_disclosure_url;return Xn(ti,null,Xn(rs,{vendor:e}),r&&Xn("div",null,e.privacy_policy_url&&Xn(Qr,{href:e.privacy_policy_url},"Privacy policy"),e.legitimate_interest_disclosure_url&&Xn(Qr,{href:e.legitimate_interest_disclosure_url},"Legitimate interest disclosure")),Xn(is,{purposes:[...e.purpose_consents||[],...e.purpose_legitimate_interests||[]],specialPurposes:e.special_purposes}),Xn(ns,{label:"Features",lineItems:e.features}),Xn(ns,{label:"Special features",lineItems:e.special_features}),Xn(os,{gvlVendor:i,dataCategories:o}))},as=({experience:e,vendors:t,enabledIds:n,onChange:i})=>{const o=Fr(t),{activeChunk:r,totalPages:s}=o,a=((e,t)=>{var n={};for(var i in e)Xr.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Zr)for(var i of Zr(e))t.indexOf(i)<0&&es.call(e,i)&&(n[i]=e[i]);return n})(o,["activeChunk","totalPages"]),{gvlVendors:d,otherVendors:l}=Di((()=>({gvlVendors:r.filter((e=>e.isGvl)),otherVendors:r.filter((e=>!e.isGvl))})),[r]);return Xn(ti,null,Xn(Vr,{title:"IAB TCF vendors",items:d,enabledIds:n,onToggle:i,renderBadgeLabel:t=>Le(t.id,e.gvl)?"IAB TCF":void 0,renderToggleChild:t=>Xn(ss,{vendor:t,experience:e})}),Xn(Vr,{title:"Other vendors",items:l,enabledIds:n,onToggle:i,renderToggleChild:t=>Xn(ss,{vendor:t,experience:e})}),Xn(Ur,((e,t)=>{for(var n in t||(t={}))Xr.call(t,n)&&ts(e,n,t[n]);if(Zr)for(var n of Zr(t))es.call(t,n)&&ts(e,n,t[n]);return e})({},a)))},ds=({experience:e,enabledVendorConsentIds:t,enabledVendorLegintIds:n,onChange:i})=>{const o=Di((()=>(e=>{const{tcf_vendor_consents:t=[],tcf_vendor_legitimate_interests:n=[],tcf_vendor_relationships:i=[],tcf_system_consents:o=[],tcf_system_legitimate_interests:r=[],tcf_system_relationships:s=[]}=e;return[...Te({consents:t,legints:n,relationships:i,isFidesSystem:!1,gvl:e.gvl}),...Te({consents:o,legints:r,relationships:s,isFidesSystem:!0,gvl:e.gvl})]})(e)),[e]),[r,s]=Vi(je[0]),a=Di((()=>{const e=r.value===Ne.CONSENT?o.filter((e=>e.isConsent)):o.filter((e=>e.isLegint));return[...e.filter((e=>e.isGvl)),...e.filter((e=>!e.isGvl))]}),[r,o]);return Xn("div",null,Xn(Rr,{options:je,active:r,onChange:s}),Xn(as,{experience:e,vendors:a,enabledIds:r.value===Ne.CONSENT?t:n,onChange:e=>i({newEnabledIds:e,modelType:r.value===Ne.CONSENT?"vendorsConsent":"vendorsLegint"}),key:`vendor-data-${r.value}`}))},ls=({title:e,children:t})=>Xn("div",{className:"fides-info-box"},e?Xn("p",{className:"fides-gpc-header"},e):null,t);var cs=Object.defineProperty,ps=Object.defineProperties,us=Object.getOwnPropertyDescriptors,fs=Object.getOwnPropertySymbols,gs=Object.prototype.hasOwnProperty,vs=Object.prototype.propertyIsEnumerable,hs=(e,t,n)=>t in e?cs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const bs=({experience:e,enabledIds:t,onChange:n,activeTabIndex:i,onTabChange:o})=>{const r=ji((({newEnabledIds:e,modelType:i})=>{const o=((e,t)=>ps(e,us(t)))(((e,t)=>{for(var n in t||(t={}))gs.call(t,n)&&hs(e,n,t[n]);if(fs)for(var n of fs(t))vs.call(t,n)&&hs(e,n,t[n]);return e})({},t),{[i]:e});n(o)}),[t,n]),s=[{name:"Purposes",content:Xn("div",null,Xn(ls,null,"Below, you will find a list of the purposes and special features for which your data is being processed. You may exercise your rights for specific purposes, based on consent or legitimate interest, using the toggles below."),Xn(Yr,{allPurposesConsent:e.tcf_purpose_consents,allPurposesLegint:e.tcf_purpose_legitimate_interests,allSpecialPurposes:e.tcf_special_purposes,enabledPurposeConsentIds:t.purposesConsent,enabledPurposeLegintIds:t.purposesLegint,enabledSpecialPurposeIds:t.specialPurposes,onChange:r}))},{name:"Features",content:Xn("div",null,Xn(ls,null,"Below, you will find a list of the features for which your data is being processed. You may exercise your rights for special features using the toggles below."),Xn(qr,{allFeatures:e.tcf_features,allSpecialFeatures:e.tcf_special_features,enabledFeatureIds:t.features,enabledSpecialFeatureIds:t.specialFeatures,onChange:r}))},{name:"Vendors",content:Xn("div",null,Xn(ls,null,"Below, you will find a list of vendors processing your data and the purposes or features of processing they declare. You may exercise your rights for each vendor based on the legal basis they assert."),Xn(ds,{experience:e,enabledVendorConsentIds:t.vendorsConsent,enabledVendorLegintIds:t.vendorsLegint,onChange:r}))}],a=[Fi(null),Fi(null),Fi(null)],d=e=>{var t;let n;"ArrowRight"===e.code&&(e.preventDefault(),n=i===s.length-1?0:i+1),"ArrowLeft"===e.code&&(e.preventDefault(),n=0===i?s.length-1:i-1),null!=n&&(o(n),null==(t=a[n].current)||t.focus())};return Xn("div",{className:"fides-tabs"},Xn("ul",{role:"tablist",className:"fides-tab-list"},s.map((({name:e},t)=>Xn("li",{role:"presentation",key:e},Xn("button",{id:`fides-tab-${e}`,"aria-selected":t===i,onClick:()=>{o(t)},role:"tab",type:"button",className:"fides-tab-button",tabIndex:t===i?void 0:-1,onKeyDown:d,ref:a[t]},e))))),Xn("div",{className:"tabpanel-container"},s.map((({name:e,content:t},n)=>Xn("section",{role:"tabpanel",id:`fides-panel-${e}`,"aria-labelledby":`fides-tab-${e}`,tabIndex:-1,hidden:n!==i,key:e},t)))))},ms=({label:e,count:t,onClick:n})=>Xn("div",{className:"fides-flex-center"},n?Xn("button",{type:"button",className:"fides-link-button fides-vendor-info-label",onClick:n},e):Xn("span",{className:"fides-vendor-info-label"},e)," ",Xn("span",{className:"fides-notice-badge"},t.toLocaleString())),ys=({experience:e,goToVendorTab:t})=>{const n=Di((()=>{const{tcf_vendor_consents:t=[],tcf_vendor_legitimate_interests:n=[],tcf_system_consents:i=[],tcf_system_legitimate_interests:o=[],tcf_vendor_relationships:r=[],tcf_system_relationships:s=[]}=e;return{total:r.length+s.length,consent:i.length+t.length,legint:n.length+o.length}}),[e]);return Xn("div",{className:"fides-background-dark fides-vendor-info-banner"},Xn(ms,{label:"Vendors",count:n.total,onClick:t}),Xn(ms,{label:"Vendors using consent",count:n.consent}),Xn(ms,{label:"Vendors using legitimate interest",count:n.legint}))};var _s=Object.defineProperty,ws=Object.defineProperties,xs=Object.getOwnPropertyDescriptors,Cs=Object.getOwnPropertySymbols,Es=Object.prototype.hasOwnProperty,Os=Object.prototype.propertyIsEnumerable,Is=(e,t,n)=>t in e?_s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ss=(e,t)=>{for(var n in t||(t={}))Es.call(t,n)&&Is(e,n,t[n]);if(Cs)for(var n of Cs(t))Os.call(t,n)&&Is(e,n,t[n]);return e},Ps=(e,t)=>ws(e,xs(t));const ks=e=>e?e.map((e=>{const t=(e=>e.current_preference?_t(e.current_preference):_t(e.default_preference))(e);return Ps(Ss({},e),{consentValue:t})})).filter((e=>e.consentValue)).map((e=>`${e.id}`)):[],Ls=({modelList:e,enabledIds:t,noticeSubMap:n})=>e?e.map((e=>{const i=wt(t.includes(`${e.id}`));return{id:e.id,preference:i,served_notice_history_id:n[String(e.id)]}})):[],Ts=({experience:e,enabledIds:t,servedNotices:n})=>{const i=(e=>{const t={purpose_consent:{},purpose_legitimate_interests:{},special_feature:{},vendor_consent:{},vendor_legitimate_interests:{},system_consent:{},system_legitimate_interests:{}};return e.forEach((e=>{Object.keys(t).forEach((n=>{const i=e[n];null!==i&&(t[n][String(i)]=e.served_notice_history_id)}))})),t})(n),{tcf_system_consents:o,tcf_system_legitimate_interests:r}=e,s=[],a=[],d=[],l=[];return t.vendorsConsent.forEach((e=>{null!=o&&o.map((e=>e.id)).includes(e)?s.push(e):a.push(e)})),t.vendorsLegint.forEach((e=>{null!=r&&r.map((e=>e.id)).includes(e)?d.push(e):l.push(e)})),{purpose_consent_preferences:Ls({modelList:e.tcf_purpose_consents,enabledIds:t.purposesConsent,noticeSubMap:i.purpose_consent}),purpose_legitimate_interests_preferences:Ls({modelList:e.tcf_purpose_legitimate_interests,enabledIds:t.purposesLegint,noticeSubMap:i.purpose_legitimate_interests}),special_feature_preferences:Ls({modelList:e.tcf_special_features,enabledIds:t.specialFeatures,noticeSubMap:i.special_feature}),vendor_consent_preferences:Ls({modelList:e.tcf_vendor_consents,enabledIds:a,noticeSubMap:i.vendor_consent}),vendor_legitimate_interests_preferences:Ls({modelList:e.tcf_vendor_legitimate_interests,enabledIds:l,noticeSubMap:i.vendor_legitimate_interests}),system_consent_preferences:Ls({modelList:e.tcf_system_consents,enabledIds:s,noticeSubMap:i.system_consent}),system_legitimate_interests_preferences:Ls({modelList:e.tcf_system_legitimate_interests,enabledIds:d,noticeSubMap:i.system_legitimate_interests})}},As=(e,t,n,i)=>((e,t,n)=>new Promise(((i,o)=>{var r=e=>{try{a(n.next(e))}catch(e){o(e)}},s=e=>{try{a(n.throw(e))}catch(e){o(e)}},a=e=>e.done?i(e.value):Promise.resolve(e.value).then(r,s);a((n=n.apply(e,t)).next())})))(void 0,null,(function*(){var o;const r=yield qe({tcStringPreferences:n,experience:i});return Ps(Ss({},e),{fides_string:r,tcf_consent:Qt(t),tcf_version_hash:null==(o=i.meta)?void 0:o.version_hash})})),Ns=({fidesRegionString:e,experience:t,options:n,cookie:i})=>{const o=Di((()=>{const{tcf_purpose_consents:e=[],tcf_purpose_legitimate_interests:n=[],tcf_special_purposes:i=[],tcf_features:o=[],tcf_special_features:r=[],tcf_vendor_consents:s=[],tcf_vendor_legitimate_interests:a=[],tcf_system_consents:d=[],tcf_system_legitimate_interests:l=[]}=t;return{purposesConsent:ks(e),purposesLegint:ks(n),specialPurposes:ks(i),features:ks(o),specialFeatures:ks(r),vendorsConsent:ks([...s,...d]),vendorsLegint:ks([...a,...l])}}),[t]),[r,s]=Vi(o),{servedNotices:a}=So({notices:[],options:n,userGeography:e,acknowledgeMode:!1,privacyExperience:t}),d=ji(((o,r)=>{const d=Ts({experience:t,enabledIds:r,servedNotices:a});Tn({consentPreferencesToSave:[],experience:t,consentMethod:o,options:n,userLocationString:e,cookie:i,debug:n.debug,tcf:d,updateCookie:e=>As(e,d,r,t)}),s(r)}),[i,t,e,n,a]),[l,c]=Vi(0),p=ji((()=>{Cn("FidesUIShown",i,n.debug,{servingComponent:ee.TCF_BANNER})}),[i,n.debug]),u=ji((()=>{Cn("FidesUIShown",i,n.debug,{servingComponent:ee.TCF_OVERLAY})}),[i,n.debug]),f=ji((()=>{d(J.DISMISS,o)}),[d,o]);if(!t.experience_config)return bt(n.debug,"No experience config found"),null;const g=t.experience_config;return Xn(Po,{options:n,experience:t,cookie:i,onVendorPageClick:()=>{c(2)},onOpen:u,onDismiss:f,renderBanner:({isOpen:e,onClose:n,onSave:i,onManagePreferencesClick:o})=>{const r=()=>{o(),c(2)};return Xn(Ji,{bannerIsOpen:e,onOpen:p,onClose:()=>{n(),f()},experience:g,onVendorPageClick:r,renderButtonGroup:({isMobile:e})=>Xn(pr,{experience:t,onManagePreferencesClick:o,onSave:(e,t)=>{d(e,t),i()},isMobile:e,includePrivacyPolicy:!0}),className:"fides-tcf-banner-container"},Xn("div",{id:"fides-tcf-banner-inner"},Xn(ys,{experience:t,goToVendorTab:r}),Xn(Nr,{experience:t})))},renderModalContent:()=>Xn(bs,{experience:t,enabledIds:r,onChange:e=>{s(e),Cn("FidesUIChanged",i,n.debug)},activeTabIndex:l,onTabChange:c}),renderModalFooter:({onClose:e,isMobile:n})=>{var i;const o=(t,n)=>{d(t,n),e()};return Xn(ti,null,Xn(pr,{experience:t,onSave:o,firstButton:Xn(ko,{buttonType:Q.SECONDARY,label:null==(i=t.experience_config)?void 0:i.save_button_label,onClick:()=>o(J.SAVE,r),className:"fides-save-button"}),isMobile:n}),Xn(Lo,{experience:t.experience_config}))}})};var Vs=Object.defineProperty,Rs=Object.getOwnPropertySymbols,Fs=Object.prototype.hasOwnProperty,Ds=Object.prototype.propertyIsEnumerable,js=(e,t,n)=>t in e?Vs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Us=(e,t)=>{_i(Xn(Ns,((e,t)=>{for(var n in t||(t={}))Fs.call(t,n)&&js(e,n,t[n]);if(Rs)for(var n of Rs(t))Ds.call(t,n)&&js(e,n,t[n]);return e})({},e)),t)},Ms="__tcfapiLocator",$s=e=>{if(!window.frames[e])if(window.document.body){const t=window.document.createElement("iframe");t.style.cssText="display:none",t.name=e,window.document.body.appendChild(t)}else setTimeout($s,5)},zs=({gdprAppliesDefault:e=!1})=>{const t=[],n=window;let i=e;(e=>{let t,n=window;for(;n;){try{if(n.frames[e]){t=n;break}}catch{}if(n===window.top)break;n=n.parent}return t})(Ms)||($s(Ms),n.__tcfapi=function(...e){return e.length?("setGdprApplies"===e[0]?e.length>3&&2===parseInt(e[1],10)&&"boolean"==typeof e[3]&&(i=e[3],"function"==typeof e[2]&&e[2]("set",!0)):"ping"===e[0]?"function"==typeof e[2]&&e[2]({gdprApplies:i,cmpLoaded:!1,cmpStatus:"stub"}):t.push(e),null):t},n.addEventListener("message",(function(e){const t="string"==typeof e.data;let n={};if(t)try{n=JSON.parse(e.data)}catch{n={}}else n=e.data;if(!(e=>"object"==typeof e&&null!=e&&"__tcfapiCall"in e)(n))return null;const i=n.__tcfapiCall;return i&&window.__tcfapi&&window.__tcfapi(i.command,i.version,((n,o)=>{const r={__tcfapiReturn:{returnValue:n,success:o,callId:i.callId}};e&&e.source&&e.source.postMessage&&e.source.postMessage(t?JSON.stringify(r):r,"*")}),i.parameter),null}),!1))},Bs=e=>{const t=e.split(Ve);if(1===t.length)return{tc:t[0],ac:""};if(t.length>=2){const[e,n]=t;return""===e?{tc:"",ac:""}:{tc:e,ac:n}}return{tc:"",ac:""}};var Gs=Object.defineProperty,Hs=Object.defineProperties,Ks=Object.getOwnPropertyDescriptors,Ys=Object.getOwnPropertySymbols,Ws=Object.prototype.hasOwnProperty,qs=Object.prototype.propertyIsEnumerable,Qs=(e,t,n)=>t in e?Gs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Js=(e,t)=>{for(var n in t||(t={}))Ws.call(t,n)&&Qs(e,n,t[n]);if(Ys)for(var n of Ys(t))qs.call(t,n)&&Qs(e,n,t[n]);return e},Zs=(e,t)=>Hs(e,Ks(t));const Xs=(e,t)=>{const n={tcf_purpose_consents:e.tcf_purpose_consents,tcf_purpose_legitimate_interests:e.tcf_purpose_legitimate_interests,tcf_special_purposes:e.tcf_special_purposes,tcf_features:e.tcf_features,tcf_special_features:e.tcf_special_features,tcf_vendor_consents:e.tcf_vendor_consents,tcf_vendor_legitimate_interests:e.tcf_vendor_legitimate_interests,tcf_system_consents:e.tcf_system_consents,tcf_system_legitimate_interests:e.tcf_system_legitimate_interests};if(Fe.forEach((({cookieKey:i,experienceKey:o})=>{var r,s;const a=null!=(r=t.tcf_consent[i])?r:{};n[o]=null==(s=e[o])?void 0:s.map((e=>{const t=Object.hasOwn(a,e.id)?wt(!!a[e.id],K.OPT_IN):e.default_preference;return Zs(Js({},e),{current_preference:t})}))})),t.fides_string){const{tc:i,ac:o}=Bs(t.fides_string),r=((e,t)=>{if(!/\d~/.test(e))return bt(!!t,`Received invalid AC string ${e}, returning no ids`),[];const n=e.split("~");if(2!==n.length)return[];const i=n[1].split(".");return 1===i.length&&""===i[0]?[]:i.map((e=>`${Pe.AC}.${e}`))})(o),s=V.decode(i);Re.forEach((({experienceKey:t,tcfModelKey:i})=>{var o;const a="vendorConsents"===i||"vendorLegitimateInterests"===i,d=Array.from(s[i]).filter((([,e])=>e)).map((([e])=>a?`gvl.${e}`:e));n[t]=null==(o=e[t])?void 0:o.map((e=>{let n=!!d.find((t=>t===e.id));return"tcf_vendor_consents"===t&&r.find((t=>t===e.id))&&(n=!0),Zs(Js({},e),{current_preference:wt(n,K.OPT_IN)})}))}))}return n},ea=({experience:e,cookie:t,debug:n})=>{const i=Xs(e,t);return n&&bt(n,"Returning updated pre-fetched experience with user consent.",e),Js(Js({},e),i)};var ta=Object.defineProperty,na=Object.defineProperties,ia=Object.getOwnPropertyDescriptors,oa=Object.getOwnPropertySymbols,ra=Object.prototype.hasOwnProperty,sa=Object.prototype.propertyIsEnumerable,aa=(e,t,n)=>t in e?ta(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,da=(e,t)=>{for(var n in t||(t={}))ra.call(t,n)&&aa(e,n,t[n]);if(oa)for(var n of oa(t))sa.call(t,n)&&aa(e,n,t[n]);return e},la=(e,t)=>na(e,ia(t)),ca=(e,t,n)=>new Promise(((i,o)=>{var r=e=>{try{a(n.next(e))}catch(e){o(e)}},s=e=>{try{a(n.throw(e))}catch(e){o(e)}},a=e=>e.done?i(e.value):Promise.resolve(e.value).then(r,s);a((n=n.apply(e,t)).next())}));let pa;const ua=e=>{var t;return e.current_preference?e.current_preference:null!=(t=e.default_preference)?t:Y.OPT_OUT},fa=e=>ca(void 0,[e],(function*({cookie:e,experience:t,debug:n=!1,isExperienceClientSideFetched:i}){if(!i)return{cookie:e,experience:t};if(e.fides_string)return bt(n,"Overriding preferences from client-side fetched experience with cookie fides_string consent",e.fides_string),{cookie:e,experience:Xs(t,e)};if(!Et(t))return{cookie:e,experience:t};const o={purposesConsent:[],purposesLegint:[],specialPurposes:[],features:[],specialFeatures:[],vendorsConsent:[],vendorsLegint:[]};Re.forEach((({experienceKey:e,enabledIdsKey:n})=>{var i;null==(i=t[e])||i.forEach((e=>{const t=ua(e);_t(t)&&n&&o[n].push(e.id.toString())}))}));const r=yield qe({experience:t,tcStringPreferences:o}),s={};Fe.forEach((({cookieKey:e,experienceKey:n})=>{var i;s[e]=[],null==(i=t[n])||i.forEach((t=>{var n;const i=ua(t);null==(n=s[e])||n.push({id:`${t.id}`,preference:i})}))}));const a=Qt(s);return{cookie:la(da({},e),{fides_string:r,tcf_consent:a}),experience:t}}));pa={consent:{},experience:void 0,geolocation:{},options:{debug:!0,isOverlayEnabled:!1,isPrefetchEnabled:!1,isGeolocationEnabled:!1,geolocationApiUrl:"",overlayParentId:null,modalLinkId:null,privacyCenterUrl:"",fidesApiUrl:"",serverSideFidesApiUrl:"",tcfEnabled:!0,fidesEmbed:!1,fidesDisableSaveApi:!1,fidesDisableBanner:!1,fidesString:null,apiOptions:null,fidesTcfGdprApplies:!0,gppExtensionPath:"",customOptionsPath:null,preventDismissal:!1,allowHTMLDescription:null},fides_meta:{},identity:{},tcf_consent:{},gtm:F,init:e=>ca(void 0,null,(function*(){var t,n,i,o;const r=Fn(e);zs({gdprAppliesDefault:r?.fidesTcfGdprApplies});const s=yield Zo(e);!r.fidesString&&null!=s&&s.fides_string&&(r.fidesString=s.fides_string);const a={optionsOverrides:r,consentPrefsOverrides:s};e.options=da(da({},e.options),a.optionsOverrides);const d=da(da({},Dn(e)),null==(t=a.consentPrefsOverrides)?void 0:t.consent),{fidesString:l}=e.options;if(l)try{const{tc:e}=Bs(l);V.decode(e);const t={fides_string:l,tcf_version_hash:null!=(i=null==(n=a.consentPrefsOverrides)?void 0:n.version_hash)?i:d.tcf_version_hash};Object.assign(d,t)}catch(t){bt(e.options.debug,`Could not decode tcString from ${l}, it may be invalid. ${t}`)}const c=jn(la(da({},e),{cookie:d,updateExperienceFromCookieConsent:ea}));Qe(),c&&(Object.assign(pa,c),Cn("FidesInitialized",d,e.options.debug));const p=null!=(o=c?.experience)?o:e.experience,u=yield Un(la(da({},e),{cookie:d,experience:p,renderOverlay:Us,updateCookieAndExperience:fa}));Object.assign(pa,u),Cn("FidesInitialized",d,e.options.debug)})),initialized:!1,meta:D,shopify:U},typeof window<"u"&&(window.Fides=pa),e.BannerEnabled=q,e.ButtonType=Q,e.CONSENT_COOKIE_MAX_AGE_DAYS=365,e.CONSENT_COOKIE_NAME=Ut,e.ComponentType=W,e.ConsentBanner=Ji,e.ConsentMechanism=K,e.ConsentMethod=J,e.EnforcementLevel=H,e.GpcStatus=X,e.RequestOrigin=Z,e.SaveConsentPreference=M,e.ServingComponent=ee,e.UserConsentPreference=Y,e.buildCookieConsentForExperiences=Wt,e.consentCookieObjHasSomeConsentSet=$t,e.constructFidesRegionString=yt,e.debugLog=bt,e.dispatchFidesEvent=Cn,e.experienceIsValid=Ct,e.generateFidesUserDeviceId=zt,e.getConsentContext=Ze,e.getCookieByName=Ht,e.getGpcStatusFromNotice=St,e.getOrMakeFidesCookie=Kt,e.getWindowObjFromPath=It,e.hasSavedTcfPreferences=Et,e.initOverlay=Nn,e.isNewFidesCookie=Bt,e.isPrivacyExperience=mt,e.makeConsentDefaultsLegacy=Jt,e.makeFidesCookie=Gt,e.removeCookiesFromBrowser=Zt,e.resolveConsentValue=kt,e.resolveLegacyConsentValue=Pt,e.saveFidesCookie=Yt,e.shouldResurfaceConsent=Ot,e.transformConsentToFidesUserPreference=wt,e.transformTcfPreferencesToCookieKeys=Qt,e.transformUserPreferenceToBoolean=_t,e.updateCookieFromNoticePreferences=Xt,e.updateExperienceFromCookieConsentNotices=qt,e.validateOptions=xt},"object"==typeof exports&&typeof module<"u"?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=typeof globalThis<"u"?globalThis:e||self).Fides={});!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(":root{--fides-banner-font-size-title:16px;--fides-embed-font-size-title:52px;--fides-embed-font-family-title:nyt-cheltenham,serif;--fides-overlay-background-color:#fff;--fides-overlay-button-border-radius:3px;--fides-overlay-container-border-radius:0px;--fides-overlay-font-color:#5a5a5a;--fides-overlay-font-family:nyt-franklin,sans-serif;--fides-overlay-font-size-body:14px;--fides-overlay-font-size-body-small:12px;--fides-overlay-font-size-body-medium:16px;--fides-overlay-font-size-title:22px;--fides-overlay-hover-color:var(--fides-overlay-background-color);--fides-overlay-inactive-color:#ebebeb;--fides-overlay-inactive-font-color:#727272;--fides-overlay-info-background:#f8f8f8;--fides-overlay-primary-button-background-hover-color:#121212;--fides-overlay-primary-color:#121212;--fides-overlay-badge-color:#424242;--fides-overlay-padding:44px;--fides-overlay-row-divider-color:#dfdfdf}div#fides-overlay{z-index:1000001000}div#fides-embed-container div.fides-modal-title{border-bottom:1px solid var(--fides-overlay-row-divider-color);color:var(--fides-overlay-primary-color);font-family:var(--fides-embed-font-family-title);font-size:var(--fides-embed-font-size-title);font-weight:100;padding-bottom:24px;text-align:left}div#fides-embed-container .fides-modal-description{color:var(--fides-overlay-primary-color);font-size:var(--fides-overlay-font-size-body-medium);font-weight:100;line-height:1.3em;padding-top:24px}div#fides-embed-container div.fides-tabs{line-height:1.3em}div#fides-embed-container .fides-modal-footer{border-top:2px solid var(--fides-overlay-primary-color)}@media screen and (max-width:767px){div#fides-embed-container .fides-modal-footer{position:fixed;position:sticky}}@media screen and (max-width:479px){div#fides-embed-container div.fides-modal-title{font-size:40px}div#fides-embed-container .fides-modal-button-group{margin-inline:8px}div#fides-embed-container .fides-modal-body{padding-inline:8px}}div#fides-banner{padding:26px 8% 48px}div#fides-banner-title{color:var(--fides-overlay-primary-color);margin-top:0}div#fides-banner-description{color:var(--fides-overlay-primary-color);margin:13px 0 0}div#fides-banner-inner-container{grid-column-gap:90px;display:flex}div#fides-tcf-banner-inner{display:none}div.fides-modal-footer .fides-modal-button-group{display:block;flex-direction:row-reverse;width:100%}.fides-banner-button-group{display:flex;flex-direction:column-reverse;gap:12px;margin-top:40px}.fides-tcf-banner-container div#fides-banner div#fides-banner-inner div#fides-button-group .fides-banner-button-group{padding-left:0}div#fides-banner-inner-container div#fides-button-group{align-self:flex-start;flex-direction:column-reverse;gap:12px;justify-content:center;min-width:205px;width:0}div#fides-button-group button.fides-banner-button{font-weight:700;height:32px}div#fides-banner-inner-container button.fides-banner-button.fides-banner-button-tertiary{background:var(--fides-overlay-secondary-button-background-color);border:1px solid var(--fides-overlay-primary-button-background-color);border-radius:var(--fides-overlay-button-border-radius);color:var(--fides-overlay-secondary-button-text-color);font-weight:600;text-decoration:none}button.fides-banner-button.fides-banner-button-secondary:hover{background:var(--fides-overlay-secondary-button-background-hover-color)}div.fides-modal-content{border:none;max-height:700px;max-width:680px;min-width:425px}div#fides-modal .fides-modal-header{border-bottom:1px solid #dfdfdf;color:var(--fides-overlay-primary-color);justify-content:space-between;text-align:left}div#fides-modal .fides-modal-header div{background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='16' height='21' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M15.92 12.986c-.667 1.793-1.897 3.179-3.66 3.912v-3.912l2.11-1.93-2.11-1.901v-2.69c1.923-.136 3.259-1.576 3.259-3.341C15.519.815 13.356 0 12.126 0c-.267 0-.561 0-.988.109v.109c.16 0 .4-.028.48-.028.854 0 1.495.408 1.495 1.196 0 .597-.481 1.196-1.335 1.196-2.11 0-4.594-1.74-7.292-1.74C2.08.843.426 2.664.426 4.51c0 1.82 1.041 2.417 2.137 2.826l.027-.11c-.346-.217-.586-.597-.586-1.195 0-.815.748-1.494 1.683-1.494 2.27 0 5.93 1.93 8.2 1.93h.213v2.717l-2.11 1.873 2.11 1.929v3.966c-.881.326-1.79.462-2.724.462-3.525 0-5.77-2.173-5.77-5.787 0-.868.108-1.711.348-2.526l1.763-.788V16.3l3.58-1.603V6.521L4.033 8.91a5.816 5.816 0 0 1 2.938-3.37l-.027-.081C3.42 6.247 0 8.964 0 13.04.001 17.74 3.901 21 8.44 21c4.809 0 7.533-3.26 7.56-8.014h-.08Z' fill='%23000'/%3E%3C/svg%3E\") no-repeat 50%;background-size:contain;height:21px;margin:17px 58px 14px;width:16px}div#fides-modal .fides-modal-title{color:var(--fides-overlay-primary-color);margin:0;padding:24px 0 0;text-align:left}div#fides-modal .fides-modal-description{color:var(--fides-overlay-primary-color);font-size:var(--fides-overlay-font-size-body);font-weight:500;margin:13px 0 16px}div#fides-modal .fides-modal-footer{border-top:2px solid var(--fides-overlay-primary-color)}.fides-modal-button-group button.fides-accept-all-button{float:left}button.fides-banner-button.fides-banner-button-secondary{float:right}div.fides-modal-footer button.fides-banner-button.fides-banner-button-primary{background:var(--fides-overlay-secondary-button-background-color);border:1px solid var(--fides-overlay-primary-button-background-color);color:var(--fides-overlay-secondary-button-text-color);margin-right:20px}div.fides-modal-footer button.fides-banner-button.fides-banner-button-secondary{background:var(--fides-overlay-primary-button-background-color);border:none;color:var(--fides-overlay-primary-button-text-color)}div#fides-button-group{margin:0;padding:17px 0}.fides-tab-button{font-family:var(--fides-overlay-font-family);font-size:16px}.fides-info-box{background-color:var(--fides-overlay-background-color);color:var(--fides-overlay-primary-color);margin:22px 0;padding:0}.fides-notice-toggle .fides-notice-toggle-trigger{margin-right:22px;min-height:0;padding:18px 0}.fides-notice-toggle .fides-notice-toggle-header,.fides-notice-toggle .fides-notice-toggle-title{color:var(--fides-overlay-primary-color);font-size:14px}.fides-notice-toggle .fides-notice-toggle-title{padding-inline:0}.fides-notice-toggle-expanded .fides-notice-toggle-title{border-bottom:none}.fides-record-header{color:var(--fides-overlay-primary-color);padding-inline:0;padding:19px 0}.fides-notice-toggle .fides-disclosure-visible{background-color:var(--fides-overlay-background-color);padding:12px 0 0}.fides-notice-toggle p{margin:0 0 12px}.fides-notice-toggle .fides-tcf-purpose-vendor-title{color:var(--fides-overlay-primary-color)}.fides-tcf-toggle-content span,.fides-tcf-toggle-content ul,.fides-vendor-details-table{line-height:1.5rem}.fides-tcf-toggle-content thead,.fides-vendor-details-table thead{color:var(--fides-overlay-primary-color);font-weight:600}.fides-tcf-illustration,.fides-tcf-purpose-vendor{background-color:var(--fides-overlay-info-background)}.fides-notice-badge{background-color:var(--fides-overlay-badge-color);border-radius:16px;font-size:12px;margin-left:22px;margin-right:-10px;padding:2px 8px 0}.fides-toggle .fides-toggle-display{font-size:12px;padding-top:2px}.fides-toggle{text-align:center}.fides-vendor-details-table{background-color:var(--fides-overlay-info-background);border-color:transparent;border-style:solid;border-width:3px 12px}.fides-vendor-details-table td{border-bottom:none}.fides-radio-button{font-family:var(--fides-overlay-font-family)}.fides-html-description a,a.fides-external-link{text-decoration:underline}@media screen and (max-width:1000px){.fides-tcf-banner-container #fides-banner{padding:20px}div#fides-banner-inner-container{grid-column-gap:40px}}@media screen and (max-width:767px){.fides-banner-button-group{margin-top:0}div#fides-banner-title{font-size:18px;font-weight:700}div#fides-banner-inner div#fides-button-group{flex-direction:column-reverse}div#fides-banner-description{margin:8px 0 0}div#fides-modal .fides-modal-footer{padding-bottom:15px}}");const n="/v2/tcf";let i="https://purr.nytimes.com";let o="https://www.nytimes.com/fides/api/v1";(function(){if(window&&window.location&&window.location.search&&"URLSearchParams"in window){const e=new URLSearchParams(window.location.search);if(e&&"dev"===e.get("fides_env"))return!0;if(e&&"prd"===e.get("fides_env"))return!1}return!!(window&&window.location&&window.location.hostname)&&/(dev|sbx|stg)(\.nytimes\.com|\.nyt\.net|\.dvsp\.nyt\.net)$/.test(window.location.hostname)})()&&(i="https://purr.dev.nytimes.com",o="https://www.dev.nytimes.com/fides/api/v1"),window.gtag_enable_tcf_support=!0;var r={options:{debug:!1,isGeolocationEnabled:!1,isOverlayEnabled:!0,tcfEnabled:!0,privacyCenterUrl:"https://privacy.fides-dev.nyt.net/api/v1",fidesApiUrl:o,fidesEmbed:window.fides_embed,fidesTcfGdprApplies:!0,customOptionsPath:"window.config.tc_info",apiOptions:{savePreferencesFn:function(e,t,o,r){const s=r?.meta?.version_hash;if(!s||!o)throw new Error(`fides.js cannot save preferences, missing required values for version_hash (${s}) or fides_string (${o})`);const a={method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({tcString:o,noticeVersion:s})},d="fides.js cannot save preferences, server error! Response code: ",l=i+"/v2/preferences";return fetch(i+n,a).then((t=>{if(!t.ok)throw new Error(`${d}${t.status}`);const n="reject"===e,i="accept"===e;if(!i&&!n)return!0;{const e={method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({gdpr_pref:n?"opt-out":i?"opt-in":"",metadata:{original_source_app:(document.querySelector("meta[name=sourceApp]")||{}).content||"fides",et_pageview_id:window.nyt_et&&window.nyt_et.get_pageview_id()}})};fetch(l,e).then((()=>{if(!t.ok)throw new Error(`${d}${t.status}`);return!0})).catch((e=>{throw console.error("fides.js error:",e),e}))}})).catch((e=>{throw console.error("fides.js error:",e),e}))},getPreferencesFn:function(e){return fetch(i+n,{method:"GET",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"}}).then((e=>{if(!e.ok)throw new Error(`fides.js cannot get preferences, server error! Response code: ${e.status}`);return e.json()})).then((e=>({consent:void 0,fides_string:e.userTcfData?.tcString,version_hash:e.userTcfData?.noticeVersion}))).catch((e=>{throw console.error("fides.js error:",e),e}))},patchNoticesServedFn:async()=>null,getPrivacyExperienceFn:function(e,t){let n={show_disabled:"false",region:e,component:"overlay",has_notices:"true",has_config:"true",systems_applicable:"true",include_gvl:"true",include_meta:"true"};return n=new URLSearchParams(n),fetch(`${o}/privacy-experience?${n}`,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json","Unescape-Safestr":"true"}}).then((e=>{if(!e.ok)throw new Error(`fides.js cannot fetch experience JSON, server error! Response code: ${e.status}`);return e.json()})).then((e=>(e.items&&e.items[0])??{})).catch((e=>{throw console.error("fides.js error:",e),e}))}},preventDismissal:!0,allowHTMLDescription:!0},geolocation:{location:"EEA",country:"EEA"}};window.Fides.init(r),window.Fides.version="2.27.0-rc4"}();
